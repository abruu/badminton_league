function od(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function ad(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function qp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var ld={exports:{}},Pi={},ud={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var os=Symbol.for("react.element"),Hp=Symbol.for("react.portal"),Kp=Symbol.for("react.fragment"),Jp=Symbol.for("react.strict_mode"),Gp=Symbol.for("react.profiler"),Qp=Symbol.for("react.provider"),Zp=Symbol.for("react.context"),Yp=Symbol.for("react.forward_ref"),Xp=Symbol.for("react.suspense"),em=Symbol.for("react.memo"),tm=Symbol.for("react.lazy"),lu=Symbol.iterator;function rm(t){return t===null||typeof t!="object"?null:(t=lu&&t[lu]||t["@@iterator"],typeof t=="function"?t:null)}var cd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dd=Object.assign,hd={};function Xr(t,e,r){this.props=t,this.context=e,this.refs=hd,this.updater=r||cd}Xr.prototype.isReactComponent={};Xr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fd(){}fd.prototype=Xr.prototype;function Qa(t,e,r){this.props=t,this.context=e,this.refs=hd,this.updater=r||cd}var Za=Qa.prototype=new fd;Za.constructor=Qa;dd(Za,Xr.prototype);Za.isPureReactComponent=!0;var uu=Array.isArray,pd=Object.prototype.hasOwnProperty,Ya={current:null},md={key:!0,ref:!0,__self:!0,__source:!0};function gd(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)pd.call(e,n)&&!md.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:os,type:t,key:i,ref:o,props:s,_owner:Ya.current}}function nm(t,e){return{$$typeof:os,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xa(t){return typeof t=="object"&&t!==null&&t.$$typeof===os}function sm(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var cu=/\/+/g;function Xi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sm(""+t.key):e.toString(36)}function Bs(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case os:case Hp:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Xi(o,0):n,uu(s)?(r="",t!=null&&(r=t.replace(cu,"$&/")+"/"),Bs(s,e,r,"",function(c){return c})):s!=null&&(Xa(s)&&(s=nm(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(cu,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",uu(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+Xi(i,a);o+=Bs(i,e,r,l,s)}else if(l=rm(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+Xi(i,a++),o+=Bs(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ms(t,e,r){if(t==null)return t;var n=[],s=0;return Bs(t,n,"","",function(i){return e.call(r,i,s++)}),n}function im(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xe={current:null},Fs={transition:null},om={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:Fs,ReactCurrentOwner:Ya};function vd(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:ms,forEach:function(t,e,r){ms(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ms(t,function(){e++}),e},toArray:function(t){return ms(t,function(e){return e})||[]},only:function(t){if(!Xa(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$.Component=Xr;$.Fragment=Kp;$.Profiler=Gp;$.PureComponent=Qa;$.StrictMode=Jp;$.Suspense=Xp;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=om;$.act=vd;$.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=dd({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ya.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)pd.call(e,l)&&!md.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:os,type:t.type,key:s,ref:i,props:n,_owner:o}};$.createContext=function(t){return t={$$typeof:Zp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Qp,_context:t},t.Consumer=t};$.createElement=gd;$.createFactory=function(t){var e=gd.bind(null,t);return e.type=t,e};$.createRef=function(){return{current:null}};$.forwardRef=function(t){return{$$typeof:Yp,render:t}};$.isValidElement=Xa;$.lazy=function(t){return{$$typeof:tm,_payload:{_status:-1,_result:t},_init:im}};$.memo=function(t,e){return{$$typeof:em,type:t,compare:e===void 0?null:e}};$.startTransition=function(t){var e=Fs.transition;Fs.transition={};try{t()}finally{Fs.transition=e}};$.unstable_act=vd;$.useCallback=function(t,e){return xe.current.useCallback(t,e)};$.useContext=function(t){return xe.current.useContext(t)};$.useDebugValue=function(){};$.useDeferredValue=function(t){return xe.current.useDeferredValue(t)};$.useEffect=function(t,e){return xe.current.useEffect(t,e)};$.useId=function(){return xe.current.useId()};$.useImperativeHandle=function(t,e,r){return xe.current.useImperativeHandle(t,e,r)};$.useInsertionEffect=function(t,e){return xe.current.useInsertionEffect(t,e)};$.useLayoutEffect=function(t,e){return xe.current.useLayoutEffect(t,e)};$.useMemo=function(t,e){return xe.current.useMemo(t,e)};$.useReducer=function(t,e,r){return xe.current.useReducer(t,e,r)};$.useRef=function(t){return xe.current.useRef(t)};$.useState=function(t){return xe.current.useState(t)};$.useSyncExternalStore=function(t,e,r){return xe.current.useSyncExternalStore(t,e,r)};$.useTransition=function(){return xe.current.useTransition()};$.version="18.3.1";ud.exports=$;var b=ud.exports;const el=ad(b),am=od({__proto__:null,default:el},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm=b,um=Symbol.for("react.element"),cm=Symbol.for("react.fragment"),dm=Object.prototype.hasOwnProperty,hm=lm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fm={key:!0,ref:!0,__self:!0,__source:!0};function yd(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)dm.call(e,n)&&!fm.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:um,type:t,key:i,ref:o,props:s,_owner:hm.current}}Pi.Fragment=cm;Pi.jsx=yd;Pi.jsxs=yd;ld.exports=Pi;var u=ld.exports,Mo={},wd={exports:{}},Ae={},xd={exports:{}},_d={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,A){var I=C.length;C.push(A);e:for(;0<I;){var Y=I-1>>>1,oe=C[Y];if(0<s(oe,A))C[Y]=A,C[I]=oe,I=Y;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var A=C[0],I=C.pop();if(I!==A){C[0]=I;e:for(var Y=0,oe=C.length,fs=oe>>>1;Y<fs;){var Jt=2*(Y+1)-1,Yi=C[Jt],Gt=Jt+1,ps=C[Gt];if(0>s(Yi,I))Gt<oe&&0>s(ps,Yi)?(C[Y]=ps,C[Gt]=I,Y=Gt):(C[Y]=Yi,C[Jt]=I,Y=Jt);else if(Gt<oe&&0>s(ps,I))C[Y]=ps,C[Gt]=I,Y=Gt;else break e}}return A}function s(C,A){var I=C.sortIndex-A.sortIndex;return I!==0?I:C.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,g=!1,p=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(C){for(var A=r(c);A!==null;){if(A.callback===null)n(c);else if(A.startTime<=C)n(c),A.sortIndex=A.expirationTime,e(l,A);else break;A=r(c)}}function _(C){if(w=!1,v(C),!p)if(r(l)!==null)p=!0,Qi(S);else{var A=r(c);A!==null&&Zi(_,A.startTime-C)}}function S(C,A){p=!1,w&&(w=!1,y(T),T=-1),g=!0;var I=f;try{for(v(A),h=r(l);h!==null&&(!(h.expirationTime>A)||C&&!Be());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,f=h.priorityLevel;var oe=Y(h.expirationTime<=A);A=t.unstable_now(),typeof oe=="function"?h.callback=oe:h===r(l)&&n(l),v(A)}else n(l);h=r(l)}if(h!==null)var fs=!0;else{var Jt=r(c);Jt!==null&&Zi(_,Jt.startTime-A),fs=!1}return fs}finally{h=null,f=I,g=!1}}var k=!1,E=null,T=-1,D=5,L=-1;function Be(){return!(t.unstable_now()-L<D)}function un(){if(E!==null){var C=t.unstable_now();L=C;var A=!0;try{A=E(!0,C)}finally{A?cn():(k=!1,E=null)}}else k=!1}var cn;if(typeof m=="function")cn=function(){m(un)};else if(typeof MessageChannel<"u"){var au=new MessageChannel,Vp=au.port2;au.port1.onmessage=un,cn=function(){Vp.postMessage(null)}}else cn=function(){x(un,0)};function Qi(C){E=C,k||(k=!0,cn())}function Zi(C,A){T=x(function(){C(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){p||g||(p=!0,Qi(S))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(C){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var I=f;f=A;try{return C()}finally{f=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,A){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var I=f;f=C;try{return A()}finally{f=I}},t.unstable_scheduleCallback=function(C,A,I){var Y=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?Y+I:Y):I=Y,C){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=I+oe,C={id:d++,callback:A,priorityLevel:C,startTime:I,expirationTime:oe,sortIndex:-1},I>Y?(C.sortIndex=I,e(c,C),r(l)===null&&C===r(c)&&(w?(y(T),T=-1):w=!0,Zi(_,I-Y))):(C.sortIndex=oe,e(l,C),p||g||(p=!0,Qi(S))),C},t.unstable_shouldYield=Be,t.unstable_wrapCallback=function(C){var A=f;return function(){var I=f;f=A;try{return C.apply(this,arguments)}finally{f=I}}}})(_d);xd.exports=_d;var pm=xd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm=b,Re=pm;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bd=new Set,Ln={};function pr(t,e){Wr(t,e),Wr(t+"Capture",e)}function Wr(t,e){for(Ln[t]=e,t=0;t<e.length;t++)bd.add(e[t])}var mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zo=Object.prototype.hasOwnProperty,gm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,du={},hu={};function vm(t){return zo.call(hu,t)?!0:zo.call(du,t)?!1:gm.test(t)?hu[t]=!0:(du[t]=!0,!1)}function ym(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wm(t,e,r,n){if(e===null||typeof e>"u"||ym(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _e(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){de[t]=new _e(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];de[e]=new _e(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){de[t]=new _e(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){de[t]=new _e(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){de[t]=new _e(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){de[t]=new _e(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){de[t]=new _e(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){de[t]=new _e(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){de[t]=new _e(t,5,!1,t.toLowerCase(),null,!1,!1)});var tl=/[\-:]([a-z])/g;function rl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tl,rl);de[e]=new _e(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tl,rl);de[e]=new _e(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tl,rl);de[e]=new _e(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){de[t]=new _e(t,1,!1,t.toLowerCase(),null,!1,!1)});de.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){de[t]=new _e(t,1,!1,t.toLowerCase(),null,!0,!0)});function nl(t,e,r,n){var s=de.hasOwnProperty(e)?de[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wm(e,r,s,n)&&(r=null),n||s===null?vm(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var wt=mm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gs=Symbol.for("react.element"),jr=Symbol.for("react.portal"),kr=Symbol.for("react.fragment"),sl=Symbol.for("react.strict_mode"),Bo=Symbol.for("react.profiler"),Sd=Symbol.for("react.provider"),jd=Symbol.for("react.context"),il=Symbol.for("react.forward_ref"),Fo=Symbol.for("react.suspense"),Wo=Symbol.for("react.suspense_list"),ol=Symbol.for("react.memo"),bt=Symbol.for("react.lazy"),kd=Symbol.for("react.offscreen"),fu=Symbol.iterator;function dn(t){return t===null||typeof t!="object"?null:(t=fu&&t[fu]||t["@@iterator"],typeof t=="function"?t:null)}var Q=Object.assign,eo;function wn(t){if(eo===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);eo=e&&e[1]||""}return`
`+eo+t}var to=!1;function ro(t,e){if(!t||to)return"";to=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{to=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?wn(t):""}function xm(t){switch(t.tag){case 5:return wn(t.type);case 16:return wn("Lazy");case 13:return wn("Suspense");case 19:return wn("SuspenseList");case 0:case 2:case 15:return t=ro(t.type,!1),t;case 11:return t=ro(t.type.render,!1),t;case 1:return t=ro(t.type,!0),t;default:return""}}function Vo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case kr:return"Fragment";case jr:return"Portal";case Bo:return"Profiler";case sl:return"StrictMode";case Fo:return"Suspense";case Wo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jd:return(t.displayName||"Context")+".Consumer";case Sd:return(t._context.displayName||"Context")+".Provider";case il:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ol:return e=t.displayName||null,e!==null?e:Vo(t.type)||"Memo";case bt:e=t._payload,t=t._init;try{return Vo(t(e))}catch{}}return null}function _m(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vo(e);case 8:return e===sl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ed(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bm(t){var e=Ed(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vs(t){t._valueTracker||(t._valueTracker=bm(t))}function Nd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Ed(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qo(t,e){var r=e.checked;return Q({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function pu(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Mt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Cd(t,e){e=e.checked,e!=null&&nl(t,"checked",e,!1)}function Ho(t,e){Cd(t,e);var r=Mt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ko(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ko(t,e.type,Mt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function mu(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ko(t,e,r){(e!=="number"||ei(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var xn=Array.isArray;function Lr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Mt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Jo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return Q({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gu(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(j(92));if(xn(r)){if(1<r.length)throw Error(j(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Mt(r)}}function Td(t,e){var r=Mt(e.value),n=Mt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function vu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Pd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Go(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Pd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ys,Od=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ys=ys||document.createElement("div"),ys.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ys.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Un(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var jn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sm=["Webkit","ms","Moz","O"];Object.keys(jn).forEach(function(t){Sm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jn[e]=jn[t]})});function Rd(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||jn.hasOwnProperty(t)&&jn[t]?(""+e).trim():e+"px"}function Ad(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Rd(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var jm=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qo(t,e){if(e){if(jm[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Zo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yo=null;function al(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xo=null,Ur=null,Dr=null;function yu(t){if(t=us(t)){if(typeof Xo!="function")throw Error(j(280));var e=t.stateNode;e&&(e=$i(e),Xo(t.stateNode,t.type,e))}}function Id(t){Ur?Dr?Dr.push(t):Dr=[t]:Ur=t}function $d(){if(Ur){var t=Ur,e=Dr;if(Dr=Ur=null,yu(t),e)for(t=0;t<e.length;t++)yu(e[t])}}function Ld(t,e){return t(e)}function Ud(){}var no=!1;function Dd(t,e,r){if(no)return t(e,r);no=!0;try{return Ld(t,e,r)}finally{no=!1,(Ur!==null||Dr!==null)&&(Ud(),$d())}}function Dn(t,e){var r=t.stateNode;if(r===null)return null;var n=$i(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(j(231,e,typeof r));return r}var ea=!1;if(mt)try{var hn={};Object.defineProperty(hn,"passive",{get:function(){ea=!0}}),window.addEventListener("test",hn,hn),window.removeEventListener("test",hn,hn)}catch{ea=!1}function km(t,e,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var kn=!1,ti=null,ri=!1,ta=null,Em={onError:function(t){kn=!0,ti=t}};function Nm(t,e,r,n,s,i,o,a,l){kn=!1,ti=null,km.apply(Em,arguments)}function Cm(t,e,r,n,s,i,o,a,l){if(Nm.apply(this,arguments),kn){if(kn){var c=ti;kn=!1,ti=null}else throw Error(j(198));ri||(ri=!0,ta=c)}}function mr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Md(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wu(t){if(mr(t)!==t)throw Error(j(188))}function Tm(t){var e=t.alternate;if(!e){if(e=mr(t),e===null)throw Error(j(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return wu(s),t;if(i===n)return wu(s),e;i=i.sibling}throw Error(j(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(j(189))}}if(r.alternate!==n)throw Error(j(190))}if(r.tag!==3)throw Error(j(188));return r.stateNode.current===r?t:e}function zd(t){return t=Tm(t),t!==null?Bd(t):null}function Bd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Bd(t);if(e!==null)return e;t=t.sibling}return null}var Fd=Re.unstable_scheduleCallback,xu=Re.unstable_cancelCallback,Pm=Re.unstable_shouldYield,Om=Re.unstable_requestPaint,X=Re.unstable_now,Rm=Re.unstable_getCurrentPriorityLevel,ll=Re.unstable_ImmediatePriority,Wd=Re.unstable_UserBlockingPriority,ni=Re.unstable_NormalPriority,Am=Re.unstable_LowPriority,Vd=Re.unstable_IdlePriority,Oi=null,it=null;function Im(t){if(it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Oi,t,void 0,(t.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:Um,$m=Math.log,Lm=Math.LN2;function Um(t){return t>>>=0,t===0?32:31-($m(t)/Lm|0)|0}var ws=64,xs=4194304;function _n(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function si(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=_n(a):(i&=o,i!==0&&(n=_n(i)))}else o=r&~s,o!==0?n=_n(o):i!==0&&(n=_n(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ye(e),s=1<<r,n|=t[r],e&=~s;return n}function Dm(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mm(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ye(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Dm(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ra(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qd(){var t=ws;return ws<<=1,!(ws&4194240)&&(ws=64),t}function so(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function as(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ye(e),t[e]=r}function zm(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Ye(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function ul(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ye(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var M=0;function Hd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Kd,cl,Jd,Gd,Qd,na=!1,_s=[],Pt=null,Ot=null,Rt=null,Mn=new Map,zn=new Map,jt=[],Bm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _u(t,e){switch(t){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Mn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zn.delete(e.pointerId)}}function fn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=us(e),e!==null&&cl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Fm(t,e,r,n,s){switch(e){case"focusin":return Pt=fn(Pt,t,e,r,n,s),!0;case"dragenter":return Ot=fn(Ot,t,e,r,n,s),!0;case"mouseover":return Rt=fn(Rt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Mn.set(i,fn(Mn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,zn.set(i,fn(zn.get(i)||null,t,e,r,n,s)),!0}return!1}function Zd(t){var e=nr(t.target);if(e!==null){var r=mr(e);if(r!==null){if(e=r.tag,e===13){if(e=Md(r),e!==null){t.blockedOn=e,Qd(t.priority,function(){Jd(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ws(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=sa(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Yo=n,r.target.dispatchEvent(n),Yo=null}else return e=us(r),e!==null&&cl(e),t.blockedOn=r,!1;e.shift()}return!0}function bu(t,e,r){Ws(t)&&r.delete(e)}function Wm(){na=!1,Pt!==null&&Ws(Pt)&&(Pt=null),Ot!==null&&Ws(Ot)&&(Ot=null),Rt!==null&&Ws(Rt)&&(Rt=null),Mn.forEach(bu),zn.forEach(bu)}function pn(t,e){t.blockedOn===e&&(t.blockedOn=null,na||(na=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,Wm)))}function Bn(t){function e(s){return pn(s,t)}if(0<_s.length){pn(_s[0],t);for(var r=1;r<_s.length;r++){var n=_s[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Pt!==null&&pn(Pt,t),Ot!==null&&pn(Ot,t),Rt!==null&&pn(Rt,t),Mn.forEach(e),zn.forEach(e),r=0;r<jt.length;r++)n=jt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<jt.length&&(r=jt[0],r.blockedOn===null);)Zd(r),r.blockedOn===null&&jt.shift()}var Mr=wt.ReactCurrentBatchConfig,ii=!0;function Vm(t,e,r,n){var s=M,i=Mr.transition;Mr.transition=null;try{M=1,dl(t,e,r,n)}finally{M=s,Mr.transition=i}}function qm(t,e,r,n){var s=M,i=Mr.transition;Mr.transition=null;try{M=4,dl(t,e,r,n)}finally{M=s,Mr.transition=i}}function dl(t,e,r,n){if(ii){var s=sa(t,e,r,n);if(s===null)mo(t,e,n,oi,r),_u(t,n);else if(Fm(s,t,e,r,n))n.stopPropagation();else if(_u(t,n),e&4&&-1<Bm.indexOf(t)){for(;s!==null;){var i=us(s);if(i!==null&&Kd(i),i=sa(t,e,r,n),i===null&&mo(t,e,n,oi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else mo(t,e,n,null,r)}}var oi=null;function sa(t,e,r,n){if(oi=null,t=al(n),t=nr(t),t!==null)if(e=mr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Md(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return oi=t,null}function Yd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rm()){case ll:return 1;case Wd:return 4;case ni:case Am:return 16;case Vd:return 536870912;default:return 16}default:return 16}}var Nt=null,hl=null,Vs=null;function Xd(){if(Vs)return Vs;var t,e=hl,r=e.length,n,s="value"in Nt?Nt.value:Nt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Vs=s.slice(t,1<n?1-n:void 0)}function qs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bs(){return!0}function Su(){return!1}function Ie(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bs:Su,this.isPropagationStopped=Su,this}return Q(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),e}var en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=Ie(en),ls=Q({},en,{view:0,detail:0}),Hm=Ie(ls),io,oo,mn,Ri=Q({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mn&&(mn&&t.type==="mousemove"?(io=t.screenX-mn.screenX,oo=t.screenY-mn.screenY):oo=io=0,mn=t),io)},movementY:function(t){return"movementY"in t?t.movementY:oo}}),ju=Ie(Ri),Km=Q({},Ri,{dataTransfer:0}),Jm=Ie(Km),Gm=Q({},ls,{relatedTarget:0}),ao=Ie(Gm),Qm=Q({},en,{animationName:0,elapsedTime:0,pseudoElement:0}),Zm=Ie(Qm),Ym=Q({},en,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xm=Ie(Ym),eg=Q({},en,{data:0}),ku=Ie(eg),tg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ng={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sg(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ng[t])?!!e[t]:!1}function pl(){return sg}var ig=Q({},ls,{key:function(t){if(t.key){var e=tg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pl,charCode:function(t){return t.type==="keypress"?qs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),og=Ie(ig),ag=Q({},Ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eu=Ie(ag),lg=Q({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pl}),ug=Ie(lg),cg=Q({},en,{propertyName:0,elapsedTime:0,pseudoElement:0}),dg=Ie(cg),hg=Q({},Ri,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fg=Ie(hg),pg=[9,13,27,32],ml=mt&&"CompositionEvent"in window,En=null;mt&&"documentMode"in document&&(En=document.documentMode);var mg=mt&&"TextEvent"in window&&!En,eh=mt&&(!ml||En&&8<En&&11>=En),Nu=" ",Cu=!1;function th(t,e){switch(t){case"keyup":return pg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Er=!1;function gg(t,e){switch(t){case"compositionend":return rh(e);case"keypress":return e.which!==32?null:(Cu=!0,Nu);case"textInput":return t=e.data,t===Nu&&Cu?null:t;default:return null}}function vg(t,e){if(Er)return t==="compositionend"||!ml&&th(t,e)?(t=Xd(),Vs=hl=Nt=null,Er=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eh&&e.locale!=="ko"?null:e.data;default:return null}}var yg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yg[t.type]:e==="textarea"}function nh(t,e,r,n){Id(n),e=ai(e,"onChange"),0<e.length&&(r=new fl("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Nn=null,Fn=null;function wg(t){ph(t,0)}function Ai(t){var e=Tr(t);if(Nd(e))return t}function xg(t,e){if(t==="change")return e}var sh=!1;if(mt){var lo;if(mt){var uo="oninput"in document;if(!uo){var Pu=document.createElement("div");Pu.setAttribute("oninput","return;"),uo=typeof Pu.oninput=="function"}lo=uo}else lo=!1;sh=lo&&(!document.documentMode||9<document.documentMode)}function Ou(){Nn&&(Nn.detachEvent("onpropertychange",ih),Fn=Nn=null)}function ih(t){if(t.propertyName==="value"&&Ai(Fn)){var e=[];nh(e,Fn,t,al(t)),Dd(wg,e)}}function _g(t,e,r){t==="focusin"?(Ou(),Nn=e,Fn=r,Nn.attachEvent("onpropertychange",ih)):t==="focusout"&&Ou()}function bg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ai(Fn)}function Sg(t,e){if(t==="click")return Ai(e)}function jg(t,e){if(t==="input"||t==="change")return Ai(e)}function kg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var et=typeof Object.is=="function"?Object.is:kg;function Wn(t,e){if(et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!zo.call(e,s)||!et(t[s],e[s]))return!1}return!0}function Ru(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Au(t,e){var r=Ru(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ru(r)}}function oh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ah(){for(var t=window,e=ei();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ei(t.document)}return e}function gl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Eg(t){var e=ah(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&oh(r.ownerDocument.documentElement,r)){if(n!==null&&gl(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Au(r,i);var o=Au(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ng=mt&&"documentMode"in document&&11>=document.documentMode,Nr=null,ia=null,Cn=null,oa=!1;function Iu(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;oa||Nr==null||Nr!==ei(n)||(n=Nr,"selectionStart"in n&&gl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Cn&&Wn(Cn,n)||(Cn=n,n=ai(ia,"onSelect"),0<n.length&&(e=new fl("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Nr)))}function Ss(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Cr={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionend:Ss("Transition","TransitionEnd")},co={},lh={};mt&&(lh=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function Ii(t){if(co[t])return co[t];if(!Cr[t])return t;var e=Cr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in lh)return co[t]=e[r];return t}var uh=Ii("animationend"),ch=Ii("animationiteration"),dh=Ii("animationstart"),hh=Ii("transitionend"),fh=new Map,$u="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ft(t,e){fh.set(t,e),pr(e,[t])}for(var ho=0;ho<$u.length;ho++){var fo=$u[ho],Cg=fo.toLowerCase(),Tg=fo[0].toUpperCase()+fo.slice(1);Ft(Cg,"on"+Tg)}Ft(uh,"onAnimationEnd");Ft(ch,"onAnimationIteration");Ft(dh,"onAnimationStart");Ft("dblclick","onDoubleClick");Ft("focusin","onFocus");Ft("focusout","onBlur");Ft(hh,"onTransitionEnd");Wr("onMouseEnter",["mouseout","mouseover"]);Wr("onMouseLeave",["mouseout","mouseover"]);Wr("onPointerEnter",["pointerout","pointerover"]);Wr("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pg=new Set("cancel close invalid load scroll toggle".split(" ").concat(bn));function Lu(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Cm(n,e,void 0,t),t.currentTarget=null}function ph(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Lu(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Lu(s,a,c),i=l}}}if(ri)throw t=ta,ri=!1,ta=null,t}function W(t,e){var r=e[da];r===void 0&&(r=e[da]=new Set);var n=t+"__bubble";r.has(n)||(mh(e,t,2,!1),r.add(n))}function po(t,e,r){var n=0;e&&(n|=4),mh(r,t,n,e)}var js="_reactListening"+Math.random().toString(36).slice(2);function Vn(t){if(!t[js]){t[js]=!0,bd.forEach(function(r){r!=="selectionchange"&&(Pg.has(r)||po(r,!1,t),po(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[js]||(e[js]=!0,po("selectionchange",!1,e))}}function mh(t,e,r,n){switch(Yd(e)){case 1:var s=Vm;break;case 4:s=qm;break;default:s=dl}r=s.bind(null,e,r,t),s=void 0,!ea||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function mo(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=nr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Dd(function(){var c=i,d=al(r),h=[];e:{var f=fh.get(t);if(f!==void 0){var g=fl,p=t;switch(t){case"keypress":if(qs(r)===0)break e;case"keydown":case"keyup":g=og;break;case"focusin":p="focus",g=ao;break;case"focusout":p="blur",g=ao;break;case"beforeblur":case"afterblur":g=ao;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Jm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ug;break;case uh:case ch:case dh:g=Zm;break;case hh:g=dg;break;case"scroll":g=Hm;break;case"wheel":g=fg;break;case"copy":case"cut":case"paste":g=Xm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Eu}var w=(e&4)!==0,x=!w&&t==="scroll",y=w?f!==null?f+"Capture":null:f;w=[];for(var m=c,v;m!==null;){v=m;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,y!==null&&(_=Dn(m,y),_!=null&&w.push(qn(m,_,v)))),x)break;m=m.return}0<w.length&&(f=new g(f,p,null,r,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==Yo&&(p=r.relatedTarget||r.fromElement)&&(nr(p)||p[gt]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(p=r.relatedTarget||r.toElement,g=c,p=p?nr(p):null,p!==null&&(x=mr(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=c),g!==p)){if(w=ju,_="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=Eu,_="onPointerLeave",y="onPointerEnter",m="pointer"),x=g==null?f:Tr(g),v=p==null?f:Tr(p),f=new w(_,m+"leave",g,r,d),f.target=x,f.relatedTarget=v,_=null,nr(d)===c&&(w=new w(y,m+"enter",p,r,d),w.target=v,w.relatedTarget=x,_=w),x=_,g&&p)t:{for(w=g,y=p,m=0,v=w;v;v=gr(v))m++;for(v=0,_=y;_;_=gr(_))v++;for(;0<m-v;)w=gr(w),m--;for(;0<v-m;)y=gr(y),v--;for(;m--;){if(w===y||y!==null&&w===y.alternate)break t;w=gr(w),y=gr(y)}w=null}else w=null;g!==null&&Uu(h,f,g,w,!1),p!==null&&x!==null&&Uu(h,x,p,w,!0)}}e:{if(f=c?Tr(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var S=xg;else if(Tu(f))if(sh)S=jg;else{S=bg;var k=_g}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Sg);if(S&&(S=S(t,c))){nh(h,S,r,d);break e}k&&k(t,f,c),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Ko(f,"number",f.value)}switch(k=c?Tr(c):window,t){case"focusin":(Tu(k)||k.contentEditable==="true")&&(Nr=k,ia=c,Cn=null);break;case"focusout":Cn=ia=Nr=null;break;case"mousedown":oa=!0;break;case"contextmenu":case"mouseup":case"dragend":oa=!1,Iu(h,r,d);break;case"selectionchange":if(Ng)break;case"keydown":case"keyup":Iu(h,r,d)}var E;if(ml)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Er?th(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(eh&&r.locale!=="ko"&&(Er||T!=="onCompositionStart"?T==="onCompositionEnd"&&Er&&(E=Xd()):(Nt=d,hl="value"in Nt?Nt.value:Nt.textContent,Er=!0)),k=ai(c,T),0<k.length&&(T=new ku(T,t,null,r,d),h.push({event:T,listeners:k}),E?T.data=E:(E=rh(r),E!==null&&(T.data=E)))),(E=mg?gg(t,r):vg(t,r))&&(c=ai(c,"onBeforeInput"),0<c.length&&(d=new ku("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=E))}ph(h,e)})}function qn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ai(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Dn(t,r),i!=null&&n.unshift(qn(t,i,s)),i=Dn(t,e),i!=null&&n.push(qn(t,i,s))),t=t.return}return n}function gr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Uu(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=Dn(r,i),l!=null&&o.unshift(qn(r,l,a))):s||(l=Dn(r,i),l!=null&&o.push(qn(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Og=/\r\n?/g,Rg=/\u0000|\uFFFD/g;function Du(t){return(typeof t=="string"?t:""+t).replace(Og,`
`).replace(Rg,"")}function ks(t,e,r){if(e=Du(e),Du(t)!==e&&r)throw Error(j(425))}function li(){}var aa=null,la=null;function ua(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ca=typeof setTimeout=="function"?setTimeout:void 0,Ag=typeof clearTimeout=="function"?clearTimeout:void 0,Mu=typeof Promise=="function"?Promise:void 0,Ig=typeof queueMicrotask=="function"?queueMicrotask:typeof Mu<"u"?function(t){return Mu.resolve(null).then(t).catch($g)}:ca;function $g(t){setTimeout(function(){throw t})}function go(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Bn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Bn(e)}function At(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var tn=Math.random().toString(36).slice(2),st="__reactFiber$"+tn,Hn="__reactProps$"+tn,gt="__reactContainer$"+tn,da="__reactEvents$"+tn,Lg="__reactListeners$"+tn,Ug="__reactHandles$"+tn;function nr(t){var e=t[st];if(e)return e;for(var r=t.parentNode;r;){if(e=r[gt]||r[st]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=zu(t);t!==null;){if(r=t[st])return r;t=zu(t)}return e}t=r,r=t.parentNode}return null}function us(t){return t=t[st]||t[gt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Tr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function $i(t){return t[Hn]||null}var ha=[],Pr=-1;function Wt(t){return{current:t}}function V(t){0>Pr||(t.current=ha[Pr],ha[Pr]=null,Pr--)}function F(t,e){Pr++,ha[Pr]=t.current,t.current=e}var zt={},ge=Wt(zt),je=Wt(!1),ur=zt;function Vr(t,e){var r=t.type.contextTypes;if(!r)return zt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ke(t){return t=t.childContextTypes,t!=null}function ui(){V(je),V(ge)}function Bu(t,e,r){if(ge.current!==zt)throw Error(j(168));F(ge,e),F(je,r)}function gh(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(j(108,_m(t)||"Unknown",s));return Q({},r,n)}function ci(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zt,ur=ge.current,F(ge,t),F(je,je.current),!0}function Fu(t,e,r){var n=t.stateNode;if(!n)throw Error(j(169));r?(t=gh(t,e,ur),n.__reactInternalMemoizedMergedChildContext=t,V(je),V(ge),F(ge,t)):V(je),F(je,r)}var dt=null,Li=!1,vo=!1;function vh(t){dt===null?dt=[t]:dt.push(t)}function Dg(t){Li=!0,vh(t)}function Vt(){if(!vo&&dt!==null){vo=!0;var t=0,e=M;try{var r=dt;for(M=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}dt=null,Li=!1}catch(s){throw dt!==null&&(dt=dt.slice(t+1)),Fd(ll,Vt),s}finally{M=e,vo=!1}}return null}var Or=[],Rr=0,di=null,hi=0,$e=[],Le=0,cr=null,ht=1,ft="";function Yt(t,e){Or[Rr++]=hi,Or[Rr++]=di,di=t,hi=e}function yh(t,e,r){$e[Le++]=ht,$e[Le++]=ft,$e[Le++]=cr,cr=t;var n=ht;t=ft;var s=32-Ye(n)-1;n&=~(1<<s),r+=1;var i=32-Ye(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ht=1<<32-Ye(e)+s|r<<s|n,ft=i+t}else ht=1<<i|r<<s|n,ft=t}function vl(t){t.return!==null&&(Yt(t,1),yh(t,1,0))}function yl(t){for(;t===di;)di=Or[--Rr],Or[Rr]=null,hi=Or[--Rr],Or[Rr]=null;for(;t===cr;)cr=$e[--Le],$e[Le]=null,ft=$e[--Le],$e[Le]=null,ht=$e[--Le],$e[Le]=null}var Oe=null,Pe=null,q=!1,Ze=null;function wh(t,e){var r=Ue(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Wu(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Oe=t,Pe=At(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Oe=t,Pe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=cr!==null?{id:ht,overflow:ft}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ue(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Oe=t,Pe=null,!0):!1;default:return!1}}function fa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pa(t){if(q){var e=Pe;if(e){var r=e;if(!Wu(t,e)){if(fa(t))throw Error(j(418));e=At(r.nextSibling);var n=Oe;e&&Wu(t,e)?wh(n,r):(t.flags=t.flags&-4097|2,q=!1,Oe=t)}}else{if(fa(t))throw Error(j(418));t.flags=t.flags&-4097|2,q=!1,Oe=t}}}function Vu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Oe=t}function Es(t){if(t!==Oe)return!1;if(!q)return Vu(t),q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ua(t.type,t.memoizedProps)),e&&(e=Pe)){if(fa(t))throw xh(),Error(j(418));for(;e;)wh(t,e),e=At(e.nextSibling)}if(Vu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Pe=At(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Pe=null}}else Pe=Oe?At(t.stateNode.nextSibling):null;return!0}function xh(){for(var t=Pe;t;)t=At(t.nextSibling)}function qr(){Pe=Oe=null,q=!1}function wl(t){Ze===null?Ze=[t]:Ze.push(t)}var Mg=wt.ReactCurrentBatchConfig;function gn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(j(309));var n=r.stateNode}if(!n)throw Error(j(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(j(284));if(!r._owner)throw Error(j(290,t))}return t}function Ns(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qu(t){var e=t._init;return e(t._payload)}function _h(t){function e(y,m){if(t){var v=y.deletions;v===null?(y.deletions=[m],y.flags|=16):v.push(m)}}function r(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function n(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=Ut(y,m),y.index=0,y.sibling=null,y}function i(y,m,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<m?(y.flags|=2,m):v):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,v,_){return m===null||m.tag!==6?(m=jo(v,y.mode,_),m.return=y,m):(m=s(m,v),m.return=y,m)}function l(y,m,v,_){var S=v.type;return S===kr?d(y,m,v.props.children,_,v.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===bt&&qu(S)===m.type)?(_=s(m,v.props),_.ref=gn(y,m,v),_.return=y,_):(_=Ys(v.type,v.key,v.props,null,y.mode,_),_.ref=gn(y,m,v),_.return=y,_)}function c(y,m,v,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=ko(v,y.mode,_),m.return=y,m):(m=s(m,v.children||[]),m.return=y,m)}function d(y,m,v,_,S){return m===null||m.tag!==7?(m=lr(v,y.mode,_,S),m.return=y,m):(m=s(m,v),m.return=y,m)}function h(y,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=jo(""+m,y.mode,v),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case gs:return v=Ys(m.type,m.key,m.props,null,y.mode,v),v.ref=gn(y,null,m),v.return=y,v;case jr:return m=ko(m,y.mode,v),m.return=y,m;case bt:var _=m._init;return h(y,_(m._payload),v)}if(xn(m)||dn(m))return m=lr(m,y.mode,v,null),m.return=y,m;Ns(y,m)}return null}function f(y,m,v,_){var S=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(y,m,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case gs:return v.key===S?l(y,m,v,_):null;case jr:return v.key===S?c(y,m,v,_):null;case bt:return S=v._init,f(y,m,S(v._payload),_)}if(xn(v)||dn(v))return S!==null?null:d(y,m,v,_,null);Ns(y,v)}return null}function g(y,m,v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(v)||null,a(m,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case gs:return y=y.get(_.key===null?v:_.key)||null,l(m,y,_,S);case jr:return y=y.get(_.key===null?v:_.key)||null,c(m,y,_,S);case bt:var k=_._init;return g(y,m,v,k(_._payload),S)}if(xn(_)||dn(_))return y=y.get(v)||null,d(m,y,_,S,null);Ns(m,_)}return null}function p(y,m,v,_){for(var S=null,k=null,E=m,T=m=0,D=null;E!==null&&T<v.length;T++){E.index>T?(D=E,E=null):D=E.sibling;var L=f(y,E,v[T],_);if(L===null){E===null&&(E=D);break}t&&E&&L.alternate===null&&e(y,E),m=i(L,m,T),k===null?S=L:k.sibling=L,k=L,E=D}if(T===v.length)return r(y,E),q&&Yt(y,T),S;if(E===null){for(;T<v.length;T++)E=h(y,v[T],_),E!==null&&(m=i(E,m,T),k===null?S=E:k.sibling=E,k=E);return q&&Yt(y,T),S}for(E=n(y,E);T<v.length;T++)D=g(E,y,T,v[T],_),D!==null&&(t&&D.alternate!==null&&E.delete(D.key===null?T:D.key),m=i(D,m,T),k===null?S=D:k.sibling=D,k=D);return t&&E.forEach(function(Be){return e(y,Be)}),q&&Yt(y,T),S}function w(y,m,v,_){var S=dn(v);if(typeof S!="function")throw Error(j(150));if(v=S.call(v),v==null)throw Error(j(151));for(var k=S=null,E=m,T=m=0,D=null,L=v.next();E!==null&&!L.done;T++,L=v.next()){E.index>T?(D=E,E=null):D=E.sibling;var Be=f(y,E,L.value,_);if(Be===null){E===null&&(E=D);break}t&&E&&Be.alternate===null&&e(y,E),m=i(Be,m,T),k===null?S=Be:k.sibling=Be,k=Be,E=D}if(L.done)return r(y,E),q&&Yt(y,T),S;if(E===null){for(;!L.done;T++,L=v.next())L=h(y,L.value,_),L!==null&&(m=i(L,m,T),k===null?S=L:k.sibling=L,k=L);return q&&Yt(y,T),S}for(E=n(y,E);!L.done;T++,L=v.next())L=g(E,y,T,L.value,_),L!==null&&(t&&L.alternate!==null&&E.delete(L.key===null?T:L.key),m=i(L,m,T),k===null?S=L:k.sibling=L,k=L);return t&&E.forEach(function(un){return e(y,un)}),q&&Yt(y,T),S}function x(y,m,v,_){if(typeof v=="object"&&v!==null&&v.type===kr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case gs:e:{for(var S=v.key,k=m;k!==null;){if(k.key===S){if(S=v.type,S===kr){if(k.tag===7){r(y,k.sibling),m=s(k,v.props.children),m.return=y,y=m;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===bt&&qu(S)===k.type){r(y,k.sibling),m=s(k,v.props),m.ref=gn(y,k,v),m.return=y,y=m;break e}r(y,k);break}else e(y,k);k=k.sibling}v.type===kr?(m=lr(v.props.children,y.mode,_,v.key),m.return=y,y=m):(_=Ys(v.type,v.key,v.props,null,y.mode,_),_.ref=gn(y,m,v),_.return=y,y=_)}return o(y);case jr:e:{for(k=v.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){r(y,m.sibling),m=s(m,v.children||[]),m.return=y,y=m;break e}else{r(y,m);break}else e(y,m);m=m.sibling}m=ko(v,y.mode,_),m.return=y,y=m}return o(y);case bt:return k=v._init,x(y,m,k(v._payload),_)}if(xn(v))return p(y,m,v,_);if(dn(v))return w(y,m,v,_);Ns(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(r(y,m.sibling),m=s(m,v),m.return=y,y=m):(r(y,m),m=jo(v,y.mode,_),m.return=y,y=m),o(y)):r(y,m)}return x}var Hr=_h(!0),bh=_h(!1),fi=Wt(null),pi=null,Ar=null,xl=null;function _l(){xl=Ar=pi=null}function bl(t){var e=fi.current;V(fi),t._currentValue=e}function ma(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function zr(t,e){pi=t,xl=Ar=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Se=!0),t.firstContext=null)}function Me(t){var e=t._currentValue;if(xl!==t)if(t={context:t,memoizedValue:e,next:null},Ar===null){if(pi===null)throw Error(j(308));Ar=t,pi.dependencies={lanes:0,firstContext:t}}else Ar=Ar.next=t;return e}var sr=null;function Sl(t){sr===null?sr=[t]:sr.push(t)}function Sh(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Sl(e)):(r.next=s.next,s.next=r),e.interleaved=r,vt(t,n)}function vt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var St=!1;function jl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function It(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,U&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,vt(t,r)}return s=n.interleaved,s===null?(e.next=e,Sl(n)):(e.next=s.next,s.next=e),n.interleaved=e,vt(t,r)}function Hs(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ul(t,r)}}function Hu(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function mi(t,e,r,n){var s=t.updateQueue;St=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,g=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,w=a;switch(f=e,g=r,w.tag){case 1:if(p=w.payload,typeof p=="function"){h=p.call(g,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=w.payload,f=typeof p=="function"?p.call(g,h,f):p,f==null)break e;h=Q({},h,f);break e;case 2:St=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);hr|=o,t.lanes=o,t.memoizedState=h}}function Ku(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(j(191,s));s.call(n)}}}var cs={},ot=Wt(cs),Kn=Wt(cs),Jn=Wt(cs);function ir(t){if(t===cs)throw Error(j(174));return t}function kl(t,e){switch(F(Jn,e),F(Kn,t),F(ot,cs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Go(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Go(e,t)}V(ot),F(ot,e)}function Kr(){V(ot),V(Kn),V(Jn)}function kh(t){ir(Jn.current);var e=ir(ot.current),r=Go(e,t.type);e!==r&&(F(Kn,t),F(ot,r))}function El(t){Kn.current===t&&(V(ot),V(Kn))}var K=Wt(0);function gi(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yo=[];function Nl(){for(var t=0;t<yo.length;t++)yo[t]._workInProgressVersionPrimary=null;yo.length=0}var Ks=wt.ReactCurrentDispatcher,wo=wt.ReactCurrentBatchConfig,dr=0,G=null,se=null,ae=null,vi=!1,Tn=!1,Gn=0,zg=0;function he(){throw Error(j(321))}function Cl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!et(t[r],e[r]))return!1;return!0}function Tl(t,e,r,n,s,i){if(dr=i,G=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ks.current=t===null||t.memoizedState===null?Vg:qg,t=r(n,s),Tn){i=0;do{if(Tn=!1,Gn=0,25<=i)throw Error(j(301));i+=1,ae=se=null,e.updateQueue=null,Ks.current=Hg,t=r(n,s)}while(Tn)}if(Ks.current=yi,e=se!==null&&se.next!==null,dr=0,ae=se=G=null,vi=!1,e)throw Error(j(300));return t}function Pl(){var t=Gn!==0;return Gn=0,t}function nt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ae===null?G.memoizedState=ae=t:ae=ae.next=t,ae}function ze(){if(se===null){var t=G.alternate;t=t!==null?t.memoizedState:null}else t=se.next;var e=ae===null?G.memoizedState:ae.next;if(e!==null)ae=e,se=t;else{if(t===null)throw Error(j(310));se=t,t={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},ae===null?G.memoizedState=ae=t:ae=ae.next=t}return ae}function Qn(t,e){return typeof e=="function"?e(t):e}function xo(t){var e=ze(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=se,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((dr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,G.lanes|=d,hr|=d}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,et(n,e.memoizedState)||(Se=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,G.lanes|=i,hr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function _o(t){var e=ze(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);et(i,e.memoizedState)||(Se=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Eh(){}function Nh(t,e){var r=G,n=ze(),s=e(),i=!et(n.memoizedState,s);if(i&&(n.memoizedState=s,Se=!0),n=n.queue,Ol(Ph.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ae!==null&&ae.memoizedState.tag&1){if(r.flags|=2048,Zn(9,Th.bind(null,r,n,s,e),void 0,null),le===null)throw Error(j(349));dr&30||Ch(r,e,s)}return s}function Ch(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=G.updateQueue,e===null?(e={lastEffect:null,stores:null},G.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Th(t,e,r,n){e.value=r,e.getSnapshot=n,Oh(e)&&Rh(t)}function Ph(t,e,r){return r(function(){Oh(e)&&Rh(t)})}function Oh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!et(t,r)}catch{return!0}}function Rh(t){var e=vt(t,1);e!==null&&Xe(e,t,1,-1)}function Ju(t){var e=nt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:t},e.queue=t,t=t.dispatch=Wg.bind(null,G,t),[e.memoizedState,t]}function Zn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=G.updateQueue,e===null?(e={lastEffect:null,stores:null},G.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Ah(){return ze().memoizedState}function Js(t,e,r,n){var s=nt();G.flags|=t,s.memoizedState=Zn(1|e,r,void 0,n===void 0?null:n)}function Ui(t,e,r,n){var s=ze();n=n===void 0?null:n;var i=void 0;if(se!==null){var o=se.memoizedState;if(i=o.destroy,n!==null&&Cl(n,o.deps)){s.memoizedState=Zn(e,r,i,n);return}}G.flags|=t,s.memoizedState=Zn(1|e,r,i,n)}function Gu(t,e){return Js(8390656,8,t,e)}function Ol(t,e){return Ui(2048,8,t,e)}function Ih(t,e){return Ui(4,2,t,e)}function $h(t,e){return Ui(4,4,t,e)}function Lh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Uh(t,e,r){return r=r!=null?r.concat([t]):null,Ui(4,4,Lh.bind(null,e,t),r)}function Rl(){}function Dh(t,e){var r=ze();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Cl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Mh(t,e){var r=ze();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Cl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function zh(t,e,r){return dr&21?(et(r,e)||(r=qd(),G.lanes|=r,hr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Se=!0),t.memoizedState=r)}function Bg(t,e){var r=M;M=r!==0&&4>r?r:4,t(!0);var n=wo.transition;wo.transition={};try{t(!1),e()}finally{M=r,wo.transition=n}}function Bh(){return ze().memoizedState}function Fg(t,e,r){var n=Lt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Fh(t))Wh(e,r);else if(r=Sh(t,e,r,n),r!==null){var s=we();Xe(r,t,n,s),Vh(r,e,n)}}function Wg(t,e,r){var n=Lt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fh(t))Wh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,et(a,o)){var l=e.interleaved;l===null?(s.next=s,Sl(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Sh(t,e,s,n),r!==null&&(s=we(),Xe(r,t,n,s),Vh(r,e,n))}}function Fh(t){var e=t.alternate;return t===G||e!==null&&e===G}function Wh(t,e){Tn=vi=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Vh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ul(t,r)}}var yi={readContext:Me,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},Vg={readContext:Me,useCallback:function(t,e){return nt().memoizedState=[t,e===void 0?null:e],t},useContext:Me,useEffect:Gu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Js(4194308,4,Lh.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Js(4194308,4,t,e)},useInsertionEffect:function(t,e){return Js(4,2,t,e)},useMemo:function(t,e){var r=nt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=nt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Fg.bind(null,G,t),[n.memoizedState,t]},useRef:function(t){var e=nt();return t={current:t},e.memoizedState=t},useState:Ju,useDebugValue:Rl,useDeferredValue:function(t){return nt().memoizedState=t},useTransition:function(){var t=Ju(!1),e=t[0];return t=Bg.bind(null,t[1]),nt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=G,s=nt();if(q){if(r===void 0)throw Error(j(407));r=r()}else{if(r=e(),le===null)throw Error(j(349));dr&30||Ch(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Gu(Ph.bind(null,n,i,t),[t]),n.flags|=2048,Zn(9,Th.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=nt(),e=le.identifierPrefix;if(q){var r=ft,n=ht;r=(n&~(1<<32-Ye(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Gn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=zg++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qg={readContext:Me,useCallback:Dh,useContext:Me,useEffect:Ol,useImperativeHandle:Uh,useInsertionEffect:Ih,useLayoutEffect:$h,useMemo:Mh,useReducer:xo,useRef:Ah,useState:function(){return xo(Qn)},useDebugValue:Rl,useDeferredValue:function(t){var e=ze();return zh(e,se.memoizedState,t)},useTransition:function(){var t=xo(Qn)[0],e=ze().memoizedState;return[t,e]},useMutableSource:Eh,useSyncExternalStore:Nh,useId:Bh,unstable_isNewReconciler:!1},Hg={readContext:Me,useCallback:Dh,useContext:Me,useEffect:Ol,useImperativeHandle:Uh,useInsertionEffect:Ih,useLayoutEffect:$h,useMemo:Mh,useReducer:_o,useRef:Ah,useState:function(){return _o(Qn)},useDebugValue:Rl,useDeferredValue:function(t){var e=ze();return se===null?e.memoizedState=t:zh(e,se.memoizedState,t)},useTransition:function(){var t=_o(Qn)[0],e=ze().memoizedState;return[t,e]},useMutableSource:Eh,useSyncExternalStore:Nh,useId:Bh,unstable_isNewReconciler:!1};function He(t,e){if(t&&t.defaultProps){e=Q({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function ga(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Q({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Di={isMounted:function(t){return(t=t._reactInternals)?mr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=we(),s=Lt(t),i=pt(n,s);i.payload=e,r!=null&&(i.callback=r),e=It(t,i,s),e!==null&&(Xe(e,t,s,n),Hs(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=we(),s=Lt(t),i=pt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=It(t,i,s),e!==null&&(Xe(e,t,s,n),Hs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=we(),n=Lt(t),s=pt(r,n);s.tag=2,e!=null&&(s.callback=e),e=It(t,s,n),e!==null&&(Xe(e,t,n,r),Hs(e,t,n))}};function Qu(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Wn(r,n)||!Wn(s,i):!0}function qh(t,e,r){var n=!1,s=zt,i=e.contextType;return typeof i=="object"&&i!==null?i=Me(i):(s=ke(e)?ur:ge.current,n=e.contextTypes,i=(n=n!=null)?Vr(t,s):zt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Di,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Zu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Di.enqueueReplaceState(e,e.state,null)}function va(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},jl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Me(i):(i=ke(e)?ur:ge.current,s.context=Vr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ga(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Di.enqueueReplaceState(s,s.state,null),mi(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Jr(t,e){try{var r="",n=e;do r+=xm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function bo(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ya(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Kg=typeof WeakMap=="function"?WeakMap:Map;function Hh(t,e,r){r=pt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){xi||(xi=!0,Ca=n),ya(t,e)},r}function Kh(t,e,r){r=pt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){ya(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ya(t,e),typeof n!="function"&&($t===null?$t=new Set([this]):$t.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Yu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Kg;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=av.bind(null,t,e,r),e.then(t,t))}function Xu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ec(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=pt(-1,1),e.tag=2,It(r,e,1))),r.lanes|=1),t)}var Jg=wt.ReactCurrentOwner,Se=!1;function ve(t,e,r,n){e.child=t===null?bh(e,null,r,n):Hr(e,t.child,r,n)}function tc(t,e,r,n,s){r=r.render;var i=e.ref;return zr(e,s),n=Tl(t,e,r,n,i,s),r=Pl(),t!==null&&!Se?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yt(t,e,s)):(q&&r&&vl(e),e.flags|=1,ve(t,e,n,s),e.child)}function rc(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!zl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Jh(t,e,i,n,s)):(t=Ys(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Wn,r(o,n)&&t.ref===e.ref)return yt(t,e,s)}return e.flags|=1,t=Ut(i,n),t.ref=e.ref,t.return=e,e.child=t}function Jh(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Wn(i,n)&&t.ref===e.ref)if(Se=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Se=!0);else return e.lanes=t.lanes,yt(t,e,s)}return wa(t,e,r,n,s)}function Gh(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},F($r,Ne),Ne|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,F($r,Ne),Ne|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,F($r,Ne),Ne|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,F($r,Ne),Ne|=n;return ve(t,e,s,r),e.child}function Qh(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function wa(t,e,r,n,s){var i=ke(r)?ur:ge.current;return i=Vr(e,i),zr(e,s),r=Tl(t,e,r,n,i,s),n=Pl(),t!==null&&!Se?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yt(t,e,s)):(q&&n&&vl(e),e.flags|=1,ve(t,e,r,s),e.child)}function nc(t,e,r,n,s){if(ke(r)){var i=!0;ci(e)}else i=!1;if(zr(e,s),e.stateNode===null)Gs(t,e),qh(e,r,n),va(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Me(c):(c=ke(r)?ur:ge.current,c=Vr(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&Zu(e,o,n,c),St=!1;var f=e.memoizedState;o.state=f,mi(e,n,o,s),l=e.memoizedState,a!==n||f!==l||je.current||St?(typeof d=="function"&&(ga(e,r,d,n),l=e.memoizedState),(a=St||Qu(e,r,a,n,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,jh(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:He(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Me(l):(l=ke(r)?ur:ge.current,l=Vr(e,l));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Zu(e,o,n,l),St=!1,f=e.memoizedState,o.state=f,mi(e,n,o,s);var p=e.memoizedState;a!==h||f!==p||je.current||St?(typeof g=="function"&&(ga(e,r,g,n),p=e.memoizedState),(c=St||Qu(e,r,c,n,f,p,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return xa(t,e,r,n,i,s)}function xa(t,e,r,n,s,i){Qh(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Fu(e,r,!1),yt(t,e,i);n=e.stateNode,Jg.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Hr(e,t.child,null,i),e.child=Hr(e,null,a,i)):ve(t,e,a,i),e.memoizedState=n.state,s&&Fu(e,r,!0),e.child}function Zh(t){var e=t.stateNode;e.pendingContext?Bu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Bu(t,e.context,!1),kl(t,e.containerInfo)}function sc(t,e,r,n,s){return qr(),wl(s),e.flags|=256,ve(t,e,r,n),e.child}var _a={dehydrated:null,treeContext:null,retryLane:0};function ba(t){return{baseLanes:t,cachePool:null,transitions:null}}function Yh(t,e,r){var n=e.pendingProps,s=K.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),F(K,s&1),t===null)return pa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Bi(o,n,0,null),t=lr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ba(r),e.memoizedState=_a,t):Al(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Gg(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ut(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ut(a,i):(i=lr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?ba(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=_a,n}return i=t.child,t=i.sibling,n=Ut(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Al(t,e){return e=Bi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cs(t,e,r,n){return n!==null&&wl(n),Hr(e,t.child,null,r),t=Al(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Gg(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=bo(Error(j(422))),Cs(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Bi({mode:"visible",children:n.children},s,0,null),i=lr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Hr(e,t.child,null,o),e.child.memoizedState=ba(o),e.memoizedState=_a,i);if(!(e.mode&1))return Cs(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(j(419)),n=bo(i,n,void 0),Cs(t,e,o,n)}if(a=(o&t.childLanes)!==0,Se||a){if(n=le,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,vt(t,s),Xe(n,t,s,-1))}return Ml(),n=bo(Error(j(421))),Cs(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=lv.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Pe=At(s.nextSibling),Oe=e,q=!0,Ze=null,t!==null&&($e[Le++]=ht,$e[Le++]=ft,$e[Le++]=cr,ht=t.id,ft=t.overflow,cr=e),e=Al(e,n.children),e.flags|=4096,e)}function ic(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ma(t.return,e,r)}function So(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Xh(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(ve(t,e,n.children,r),n=K.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ic(t,r,e);else if(t.tag===19)ic(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(F(K,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&gi(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),So(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&gi(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}So(e,!0,r,null,i);break;case"together":So(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),hr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,r=Ut(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ut(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Qg(t,e,r){switch(e.tag){case 3:Zh(e),qr();break;case 5:kh(e);break;case 1:ke(e.type)&&ci(e);break;case 4:kl(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;F(fi,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(F(K,K.current&1),e.flags|=128,null):r&e.child.childLanes?Yh(t,e,r):(F(K,K.current&1),t=yt(t,e,r),t!==null?t.sibling:null);F(K,K.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Xh(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),F(K,K.current),n)break;return null;case 22:case 23:return e.lanes=0,Gh(t,e,r)}return yt(t,e,r)}var ef,Sa,tf,rf;ef=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sa=function(){};tf=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,ir(ot.current);var i=null;switch(r){case"input":s=qo(t,s),n=qo(t,n),i=[];break;case"select":s=Q({},s,{value:void 0}),n=Q({},n,{value:void 0}),i=[];break;case"textarea":s=Jo(t,s),n=Jo(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=li)}Qo(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ln.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ln.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&W("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};rf=function(t,e,r,n){r!==n&&(e.flags|=4)};function vn(t,e){if(!q)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function fe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Zg(t,e,r){var n=e.pendingProps;switch(yl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(e),null;case 1:return ke(e.type)&&ui(),fe(e),null;case 3:return n=e.stateNode,Kr(),V(je),V(ge),Nl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Es(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ze!==null&&(Oa(Ze),Ze=null))),Sa(t,e),fe(e),null;case 5:El(e);var s=ir(Jn.current);if(r=e.type,t!==null&&e.stateNode!=null)tf(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(j(166));return fe(e),null}if(t=ir(ot.current),Es(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[st]=e,n[Hn]=i,t=(e.mode&1)!==0,r){case"dialog":W("cancel",n),W("close",n);break;case"iframe":case"object":case"embed":W("load",n);break;case"video":case"audio":for(s=0;s<bn.length;s++)W(bn[s],n);break;case"source":W("error",n);break;case"img":case"image":case"link":W("error",n),W("load",n);break;case"details":W("toggle",n);break;case"input":pu(n,i),W("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},W("invalid",n);break;case"textarea":gu(n,i),W("invalid",n)}Qo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&ks(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ks(n.textContent,a,t),s=["children",""+a]):Ln.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&W("scroll",n)}switch(r){case"input":vs(n),mu(n,i,!0);break;case"textarea":vs(n),vu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=li)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Pd(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[st]=e,t[Hn]=n,ef(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zo(r,n),r){case"dialog":W("cancel",t),W("close",t),s=n;break;case"iframe":case"object":case"embed":W("load",t),s=n;break;case"video":case"audio":for(s=0;s<bn.length;s++)W(bn[s],t);s=n;break;case"source":W("error",t),s=n;break;case"img":case"image":case"link":W("error",t),W("load",t),s=n;break;case"details":W("toggle",t),s=n;break;case"input":pu(t,n),s=qo(t,n),W("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Q({},n,{value:void 0}),W("invalid",t);break;case"textarea":gu(t,n),s=Jo(t,n),W("invalid",t);break;default:s=n}Qo(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Ad(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Od(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Un(t,l):typeof l=="number"&&Un(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ln.hasOwnProperty(i)?l!=null&&i==="onScroll"&&W("scroll",t):l!=null&&nl(t,i,l,o))}switch(r){case"input":vs(t),mu(t,n,!1);break;case"textarea":vs(t),vu(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Mt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Lr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Lr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=li)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fe(e),null;case 6:if(t&&e.stateNode!=null)rf(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(j(166));if(r=ir(Jn.current),ir(ot.current),Es(e)){if(n=e.stateNode,r=e.memoizedProps,n[st]=e,(i=n.nodeValue!==r)&&(t=Oe,t!==null))switch(t.tag){case 3:ks(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ks(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[st]=e,e.stateNode=n}return fe(e),null;case 13:if(V(K),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(q&&Pe!==null&&e.mode&1&&!(e.flags&128))xh(),qr(),e.flags|=98560,i=!1;else if(i=Es(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(j(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[st]=e}else qr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fe(e),i=!1}else Ze!==null&&(Oa(Ze),Ze=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||K.current&1?ie===0&&(ie=3):Ml())),e.updateQueue!==null&&(e.flags|=4),fe(e),null);case 4:return Kr(),Sa(t,e),t===null&&Vn(e.stateNode.containerInfo),fe(e),null;case 10:return bl(e.type._context),fe(e),null;case 17:return ke(e.type)&&ui(),fe(e),null;case 19:if(V(K),i=e.memoizedState,i===null)return fe(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)vn(i,!1);else{if(ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=gi(t),o!==null){for(e.flags|=128,vn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return F(K,K.current&1|2),e.child}t=t.sibling}i.tail!==null&&X()>Gr&&(e.flags|=128,n=!0,vn(i,!1),e.lanes=4194304)}else{if(!n)if(t=gi(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),vn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!q)return fe(e),null}else 2*X()-i.renderingStartTime>Gr&&r!==1073741824&&(e.flags|=128,n=!0,vn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=X(),e.sibling=null,r=K.current,F(K,n?r&1|2:r&1),e):(fe(e),null);case 22:case 23:return Dl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ne&1073741824&&(fe(e),e.subtreeFlags&6&&(e.flags|=8192)):fe(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function Yg(t,e){switch(yl(e),e.tag){case 1:return ke(e.type)&&ui(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Kr(),V(je),V(ge),Nl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return El(e),null;case 13:if(V(K),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));qr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return V(K),null;case 4:return Kr(),null;case 10:return bl(e.type._context),null;case 22:case 23:return Dl(),null;case 24:return null;default:return null}}var Ts=!1,me=!1,Xg=typeof WeakSet=="function"?WeakSet:Set,N=null;function Ir(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Z(t,e,n)}else r.current=null}function ja(t,e,r){try{r()}catch(n){Z(t,e,n)}}var oc=!1;function ev(t,e){if(aa=ii,t=ah(),gl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===r&&++c===s&&(a=o),f===i&&++d===n&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(la={focusedElem:t,selectionRange:r},ii=!1,N=e;N!==null;)if(e=N,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,N=t;else for(;N!==null;){e=N;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var w=p.memoizedProps,x=p.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?w:He(e.type,w),x);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(_){Z(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,N=t;break}N=e.return}return p=oc,oc=!1,p}function Pn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ja(e,r,i)}s=s.next}while(s!==n)}}function Mi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ka(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function nf(t){var e=t.alternate;e!==null&&(t.alternate=null,nf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[st],delete e[Hn],delete e[da],delete e[Lg],delete e[Ug])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sf(t){return t.tag===5||t.tag===3||t.tag===4}function ac(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ea(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=li));else if(n!==4&&(t=t.child,t!==null))for(Ea(t,e,r),t=t.sibling;t!==null;)Ea(t,e,r),t=t.sibling}function Na(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Na(t,e,r),t=t.sibling;t!==null;)Na(t,e,r),t=t.sibling}var ue=null,Je=!1;function xt(t,e,r){for(r=r.child;r!==null;)of(t,e,r),r=r.sibling}function of(t,e,r){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Oi,r)}catch{}switch(r.tag){case 5:me||Ir(r,e);case 6:var n=ue,s=Je;ue=null,xt(t,e,r),ue=n,Je=s,ue!==null&&(Je?(t=ue,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ue.removeChild(r.stateNode));break;case 18:ue!==null&&(Je?(t=ue,r=r.stateNode,t.nodeType===8?go(t.parentNode,r):t.nodeType===1&&go(t,r),Bn(t)):go(ue,r.stateNode));break;case 4:n=ue,s=Je,ue=r.stateNode.containerInfo,Je=!0,xt(t,e,r),ue=n,Je=s;break;case 0:case 11:case 14:case 15:if(!me&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ja(r,e,o),s=s.next}while(s!==n)}xt(t,e,r);break;case 1:if(!me&&(Ir(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Z(r,e,a)}xt(t,e,r);break;case 21:xt(t,e,r);break;case 22:r.mode&1?(me=(n=me)||r.memoizedState!==null,xt(t,e,r),me=n):xt(t,e,r);break;default:xt(t,e,r)}}function lc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Xg),e.forEach(function(n){var s=uv.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Fe(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ue=a.stateNode,Je=!1;break e;case 3:ue=a.stateNode.containerInfo,Je=!0;break e;case 4:ue=a.stateNode.containerInfo,Je=!0;break e}a=a.return}if(ue===null)throw Error(j(160));of(i,o,s),ue=null,Je=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Z(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)af(e,t),e=e.sibling}function af(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fe(e,t),tt(t),n&4){try{Pn(3,t,t.return),Mi(3,t)}catch(w){Z(t,t.return,w)}try{Pn(5,t,t.return)}catch(w){Z(t,t.return,w)}}break;case 1:Fe(e,t),tt(t),n&512&&r!==null&&Ir(r,r.return);break;case 5:if(Fe(e,t),tt(t),n&512&&r!==null&&Ir(r,r.return),t.flags&32){var s=t.stateNode;try{Un(s,"")}catch(w){Z(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Cd(s,i),Zo(a,o);var c=Zo(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Ad(s,h):d==="dangerouslySetInnerHTML"?Od(s,h):d==="children"?Un(s,h):nl(s,d,h,c)}switch(a){case"input":Ho(s,i);break;case"textarea":Td(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Lr(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Lr(s,!!i.multiple,i.defaultValue,!0):Lr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hn]=i}catch(w){Z(t,t.return,w)}}break;case 6:if(Fe(e,t),tt(t),n&4){if(t.stateNode===null)throw Error(j(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Z(t,t.return,w)}}break;case 3:if(Fe(e,t),tt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Bn(e.containerInfo)}catch(w){Z(t,t.return,w)}break;case 4:Fe(e,t),tt(t);break;case 13:Fe(e,t),tt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ll=X())),n&4&&lc(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(me=(c=me)||d,Fe(e,t),me=c):Fe(e,t),tt(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(N=t,d=t.child;d!==null;){for(h=N=d;N!==null;){switch(f=N,g=f.child,f.tag){case 0:case 11:case 14:case 15:Pn(4,f,f.return);break;case 1:Ir(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(w){Z(n,r,w)}}break;case 5:Ir(f,f.return);break;case 22:if(f.memoizedState!==null){cc(h);continue}}g!==null?(g.return=f,N=g):cc(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Rd("display",o))}catch(w){Z(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){Z(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Fe(e,t),tt(t),n&4&&lc(t);break;case 21:break;default:Fe(e,t),tt(t)}}function tt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(sf(r)){var n=r;break e}r=r.return}throw Error(j(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Un(s,""),n.flags&=-33);var i=ac(t);Na(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=ac(t);Ea(t,a,o);break;default:throw Error(j(161))}}catch(l){Z(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tv(t,e,r){N=t,lf(t)}function lf(t,e,r){for(var n=(t.mode&1)!==0;N!==null;){var s=N,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ts;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||me;a=Ts;var c=me;if(Ts=o,(me=l)&&!c)for(N=s;N!==null;)o=N,l=o.child,o.tag===22&&o.memoizedState!==null?dc(s):l!==null?(l.return=o,N=l):dc(s);for(;i!==null;)N=i,lf(i),i=i.sibling;N=s,Ts=a,me=c}uc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,N=i):uc(t)}}function uc(t){for(;N!==null;){var e=N;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:me||Mi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!me)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:He(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ku(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Ku(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Bn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}me||e.flags&512&&ka(e)}catch(f){Z(e,e.return,f)}}if(e===t){N=null;break}if(r=e.sibling,r!==null){r.return=e.return,N=r;break}N=e.return}}function cc(t){for(;N!==null;){var e=N;if(e===t){N=null;break}var r=e.sibling;if(r!==null){r.return=e.return,N=r;break}N=e.return}}function dc(t){for(;N!==null;){var e=N;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Mi(4,e)}catch(l){Z(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Z(e,s,l)}}var i=e.return;try{ka(e)}catch(l){Z(e,i,l)}break;case 5:var o=e.return;try{ka(e)}catch(l){Z(e,o,l)}}}catch(l){Z(e,e.return,l)}if(e===t){N=null;break}var a=e.sibling;if(a!==null){a.return=e.return,N=a;break}N=e.return}}var rv=Math.ceil,wi=wt.ReactCurrentDispatcher,Il=wt.ReactCurrentOwner,De=wt.ReactCurrentBatchConfig,U=0,le=null,re=null,ce=0,Ne=0,$r=Wt(0),ie=0,Yn=null,hr=0,zi=0,$l=0,On=null,be=null,Ll=0,Gr=1/0,ut=null,xi=!1,Ca=null,$t=null,Ps=!1,Ct=null,_i=0,Rn=0,Ta=null,Qs=-1,Zs=0;function we(){return U&6?X():Qs!==-1?Qs:Qs=X()}function Lt(t){return t.mode&1?U&2&&ce!==0?ce&-ce:Mg.transition!==null?(Zs===0&&(Zs=qd()),Zs):(t=M,t!==0||(t=window.event,t=t===void 0?16:Yd(t.type)),t):1}function Xe(t,e,r,n){if(50<Rn)throw Rn=0,Ta=null,Error(j(185));as(t,r,n),(!(U&2)||t!==le)&&(t===le&&(!(U&2)&&(zi|=r),ie===4&&kt(t,ce)),Ee(t,n),r===1&&U===0&&!(e.mode&1)&&(Gr=X()+500,Li&&Vt()))}function Ee(t,e){var r=t.callbackNode;Mm(t,e);var n=si(t,t===le?ce:0);if(n===0)r!==null&&xu(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&xu(r),e===1)t.tag===0?Dg(hc.bind(null,t)):vh(hc.bind(null,t)),Ig(function(){!(U&6)&&Vt()}),r=null;else{switch(Hd(n)){case 1:r=ll;break;case 4:r=Wd;break;case 16:r=ni;break;case 536870912:r=Vd;break;default:r=ni}r=gf(r,uf.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function uf(t,e){if(Qs=-1,Zs=0,U&6)throw Error(j(327));var r=t.callbackNode;if(Br()&&t.callbackNode!==r)return null;var n=si(t,t===le?ce:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=bi(t,n);else{e=n;var s=U;U|=2;var i=df();(le!==t||ce!==e)&&(ut=null,Gr=X()+500,ar(t,e));do try{iv();break}catch(a){cf(t,a)}while(!0);_l(),wi.current=i,U=s,re!==null?e=0:(le=null,ce=0,e=ie)}if(e!==0){if(e===2&&(s=ra(t),s!==0&&(n=s,e=Pa(t,s))),e===1)throw r=Yn,ar(t,0),kt(t,n),Ee(t,X()),r;if(e===6)kt(t,n);else{if(s=t.current.alternate,!(n&30)&&!nv(s)&&(e=bi(t,n),e===2&&(i=ra(t),i!==0&&(n=i,e=Pa(t,i))),e===1))throw r=Yn,ar(t,0),kt(t,n),Ee(t,X()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(j(345));case 2:Xt(t,be,ut);break;case 3:if(kt(t,n),(n&130023424)===n&&(e=Ll+500-X(),10<e)){if(si(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){we(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ca(Xt.bind(null,t,be,ut),e);break}Xt(t,be,ut);break;case 4:if(kt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Ye(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=X()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*rv(n/1960))-n,10<n){t.timeoutHandle=ca(Xt.bind(null,t,be,ut),n);break}Xt(t,be,ut);break;case 5:Xt(t,be,ut);break;default:throw Error(j(329))}}}return Ee(t,X()),t.callbackNode===r?uf.bind(null,t):null}function Pa(t,e){var r=On;return t.current.memoizedState.isDehydrated&&(ar(t,e).flags|=256),t=bi(t,e),t!==2&&(e=be,be=r,e!==null&&Oa(e)),t}function Oa(t){be===null?be=t:be.push.apply(be,t)}function nv(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!et(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function kt(t,e){for(e&=~$l,e&=~zi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ye(e),n=1<<r;t[r]=-1,e&=~n}}function hc(t){if(U&6)throw Error(j(327));Br();var e=si(t,0);if(!(e&1))return Ee(t,X()),null;var r=bi(t,e);if(t.tag!==0&&r===2){var n=ra(t);n!==0&&(e=n,r=Pa(t,n))}if(r===1)throw r=Yn,ar(t,0),kt(t,e),Ee(t,X()),r;if(r===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xt(t,be,ut),Ee(t,X()),null}function Ul(t,e){var r=U;U|=1;try{return t(e)}finally{U=r,U===0&&(Gr=X()+500,Li&&Vt())}}function fr(t){Ct!==null&&Ct.tag===0&&!(U&6)&&Br();var e=U;U|=1;var r=De.transition,n=M;try{if(De.transition=null,M=1,t)return t()}finally{M=n,De.transition=r,U=e,!(U&6)&&Vt()}}function Dl(){Ne=$r.current,V($r)}function ar(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Ag(r)),re!==null)for(r=re.return;r!==null;){var n=r;switch(yl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ui();break;case 3:Kr(),V(je),V(ge),Nl();break;case 5:El(n);break;case 4:Kr();break;case 13:V(K);break;case 19:V(K);break;case 10:bl(n.type._context);break;case 22:case 23:Dl()}r=r.return}if(le=t,re=t=Ut(t.current,null),ce=Ne=e,ie=0,Yn=null,$l=zi=hr=0,be=On=null,sr!==null){for(e=0;e<sr.length;e++)if(r=sr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}sr=null}return t}function cf(t,e){do{var r=re;try{if(_l(),Ks.current=yi,vi){for(var n=G.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}vi=!1}if(dr=0,ae=se=G=null,Tn=!1,Gn=0,Il.current=null,r===null||r.return===null){ie=1,Yn=e,re=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=ce,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Xu(o);if(g!==null){g.flags&=-257,ec(g,o,a,i,e),g.mode&1&&Yu(i,c,e),e=g,l=c;var p=e.updateQueue;if(p===null){var w=new Set;w.add(l),e.updateQueue=w}else p.add(l);break e}else{if(!(e&1)){Yu(i,c,e),Ml();break e}l=Error(j(426))}}else if(q&&a.mode&1){var x=Xu(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),ec(x,o,a,i,e),wl(Jr(l,a));break e}}i=l=Jr(l,a),ie!==4&&(ie=2),On===null?On=[i]:On.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=Hh(i,l,e);Hu(i,y);break e;case 1:a=l;var m=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&($t===null||!$t.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=Kh(i,a,e);Hu(i,_);break e}}i=i.return}while(i!==null)}ff(r)}catch(S){e=S,re===r&&r!==null&&(re=r=r.return);continue}break}while(!0)}function df(){var t=wi.current;return wi.current=yi,t===null?yi:t}function Ml(){(ie===0||ie===3||ie===2)&&(ie=4),le===null||!(hr&268435455)&&!(zi&268435455)||kt(le,ce)}function bi(t,e){var r=U;U|=2;var n=df();(le!==t||ce!==e)&&(ut=null,ar(t,e));do try{sv();break}catch(s){cf(t,s)}while(!0);if(_l(),U=r,wi.current=n,re!==null)throw Error(j(261));return le=null,ce=0,ie}function sv(){for(;re!==null;)hf(re)}function iv(){for(;re!==null&&!Pm();)hf(re)}function hf(t){var e=mf(t.alternate,t,Ne);t.memoizedProps=t.pendingProps,e===null?ff(t):re=e,Il.current=null}function ff(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Yg(r,e),r!==null){r.flags&=32767,re=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ie=6,re=null;return}}else if(r=Zg(r,e,Ne),r!==null){re=r;return}if(e=e.sibling,e!==null){re=e;return}re=e=t}while(e!==null);ie===0&&(ie=5)}function Xt(t,e,r){var n=M,s=De.transition;try{De.transition=null,M=1,ov(t,e,r,n)}finally{De.transition=s,M=n}return null}function ov(t,e,r,n){do Br();while(Ct!==null);if(U&6)throw Error(j(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(zm(t,i),t===le&&(re=le=null,ce=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ps||(Ps=!0,gf(ni,function(){return Br(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=De.transition,De.transition=null;var o=M;M=1;var a=U;U|=4,Il.current=null,ev(t,r),af(r,t),Eg(la),ii=!!aa,la=aa=null,t.current=r,tv(r),Om(),U=a,M=o,De.transition=i}else t.current=r;if(Ps&&(Ps=!1,Ct=t,_i=s),i=t.pendingLanes,i===0&&($t=null),Im(r.stateNode),Ee(t,X()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(xi)throw xi=!1,t=Ca,Ca=null,t;return _i&1&&t.tag!==0&&Br(),i=t.pendingLanes,i&1?t===Ta?Rn++:(Rn=0,Ta=t):Rn=0,Vt(),null}function Br(){if(Ct!==null){var t=Hd(_i),e=De.transition,r=M;try{if(De.transition=null,M=16>t?16:t,Ct===null)var n=!1;else{if(t=Ct,Ct=null,_i=0,U&6)throw Error(j(331));var s=U;for(U|=4,N=t.current;N!==null;){var i=N,o=i.child;if(N.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(N=c;N!==null;){var d=N;switch(d.tag){case 0:case 11:case 15:Pn(8,d,i)}var h=d.child;if(h!==null)h.return=d,N=h;else for(;N!==null;){d=N;var f=d.sibling,g=d.return;if(nf(d),d===c){N=null;break}if(f!==null){f.return=g,N=f;break}N=g}}}var p=i.alternate;if(p!==null){var w=p.child;if(w!==null){p.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}N=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,N=o;else e:for(;N!==null;){if(i=N,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Pn(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,N=y;break e}N=i.return}}var m=t.current;for(N=m;N!==null;){o=N;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,N=v;else e:for(o=m;N!==null;){if(a=N,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Mi(9,a)}}catch(S){Z(a,a.return,S)}if(a===o){N=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,N=_;break e}N=a.return}}if(U=s,Vt(),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Oi,t)}catch{}n=!0}return n}finally{M=r,De.transition=e}}return!1}function fc(t,e,r){e=Jr(r,e),e=Hh(t,e,1),t=It(t,e,1),e=we(),t!==null&&(as(t,1,e),Ee(t,e))}function Z(t,e,r){if(t.tag===3)fc(t,t,r);else for(;e!==null;){if(e.tag===3){fc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($t===null||!$t.has(n))){t=Jr(r,t),t=Kh(e,t,1),e=It(e,t,1),t=we(),e!==null&&(as(e,1,t),Ee(e,t));break}}e=e.return}}function av(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=we(),t.pingedLanes|=t.suspendedLanes&r,le===t&&(ce&r)===r&&(ie===4||ie===3&&(ce&130023424)===ce&&500>X()-Ll?ar(t,0):$l|=r),Ee(t,e)}function pf(t,e){e===0&&(t.mode&1?(e=xs,xs<<=1,!(xs&130023424)&&(xs=4194304)):e=1);var r=we();t=vt(t,e),t!==null&&(as(t,e,r),Ee(t,r))}function lv(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),pf(t,r)}function uv(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(j(314))}n!==null&&n.delete(e),pf(t,r)}var mf;mf=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||je.current)Se=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Se=!1,Qg(t,e,r);Se=!!(t.flags&131072)}else Se=!1,q&&e.flags&1048576&&yh(e,hi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Gs(t,e),t=e.pendingProps;var s=Vr(e,ge.current);zr(e,r),s=Tl(null,e,n,t,s,r);var i=Pl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ke(n)?(i=!0,ci(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,jl(e),s.updater=Di,e.stateNode=s,s._reactInternals=e,va(e,n,t,r),e=xa(null,e,n,!0,i,r)):(e.tag=0,q&&i&&vl(e),ve(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Gs(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=dv(n),t=He(n,t),s){case 0:e=wa(null,e,n,t,r);break e;case 1:e=nc(null,e,n,t,r);break e;case 11:e=tc(null,e,n,t,r);break e;case 14:e=rc(null,e,n,He(n.type,t),r);break e}throw Error(j(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:He(n,s),wa(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:He(n,s),nc(t,e,n,s,r);case 3:e:{if(Zh(e),t===null)throw Error(j(387));n=e.pendingProps,i=e.memoizedState,s=i.element,jh(t,e),mi(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Jr(Error(j(423)),e),e=sc(t,e,n,r,s);break e}else if(n!==s){s=Jr(Error(j(424)),e),e=sc(t,e,n,r,s);break e}else for(Pe=At(e.stateNode.containerInfo.firstChild),Oe=e,q=!0,Ze=null,r=bh(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(qr(),n===s){e=yt(t,e,r);break e}ve(t,e,n,r)}e=e.child}return e;case 5:return kh(e),t===null&&pa(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,ua(n,s)?o=null:i!==null&&ua(n,i)&&(e.flags|=32),Qh(t,e),ve(t,e,o,r),e.child;case 6:return t===null&&pa(e),null;case 13:return Yh(t,e,r);case 4:return kl(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Hr(e,null,n,r):ve(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:He(n,s),tc(t,e,n,s,r);case 7:return ve(t,e,e.pendingProps,r),e.child;case 8:return ve(t,e,e.pendingProps.children,r),e.child;case 12:return ve(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,F(fi,n._currentValue),n._currentValue=o,i!==null)if(et(i.value,o)){if(i.children===s.children&&!je.current){e=yt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=pt(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),ma(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(j(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),ma(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ve(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,zr(e,r),s=Me(s),n=n(s),e.flags|=1,ve(t,e,n,r),e.child;case 14:return n=e.type,s=He(n,e.pendingProps),s=He(n.type,s),rc(t,e,n,s,r);case 15:return Jh(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:He(n,s),Gs(t,e),e.tag=1,ke(n)?(t=!0,ci(e)):t=!1,zr(e,r),qh(e,n,s),va(e,n,s,r),xa(null,e,n,!0,t,r);case 19:return Xh(t,e,r);case 22:return Gh(t,e,r)}throw Error(j(156,e.tag))};function gf(t,e){return Fd(t,e)}function cv(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ue(t,e,r,n){return new cv(t,e,r,n)}function zl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dv(t){if(typeof t=="function")return zl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===il)return 11;if(t===ol)return 14}return 2}function Ut(t,e){var r=t.alternate;return r===null?(r=Ue(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ys(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")zl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case kr:return lr(r.children,s,i,e);case sl:o=8,s|=8;break;case Bo:return t=Ue(12,r,e,s|2),t.elementType=Bo,t.lanes=i,t;case Fo:return t=Ue(13,r,e,s),t.elementType=Fo,t.lanes=i,t;case Wo:return t=Ue(19,r,e,s),t.elementType=Wo,t.lanes=i,t;case kd:return Bi(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Sd:o=10;break e;case jd:o=9;break e;case il:o=11;break e;case ol:o=14;break e;case bt:o=16,n=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=Ue(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function lr(t,e,r,n){return t=Ue(7,t,n,e),t.lanes=r,t}function Bi(t,e,r,n){return t=Ue(22,t,n,e),t.elementType=kd,t.lanes=r,t.stateNode={isHidden:!1},t}function jo(t,e,r){return t=Ue(6,t,null,e),t.lanes=r,t}function ko(t,e,r){return e=Ue(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hv(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=so(0),this.expirationTimes=so(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=so(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bl(t,e,r,n,s,i,o,a,l){return t=new hv(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ue(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jl(i),t}function fv(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function vf(t){if(!t)return zt;t=t._reactInternals;e:{if(mr(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ke(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var r=t.type;if(ke(r))return gh(t,r,e)}return e}function yf(t,e,r,n,s,i,o,a,l){return t=Bl(r,n,!0,t,s,i,o,a,l),t.context=vf(null),r=t.current,n=we(),s=Lt(r),i=pt(n,s),i.callback=e??null,It(r,i,s),t.current.lanes=s,as(t,s,n),Ee(t,n),t}function Fi(t,e,r,n){var s=e.current,i=we(),o=Lt(s);return r=vf(r),e.context===null?e.context=r:e.pendingContext=r,e=pt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=It(s,e,o),t!==null&&(Xe(t,s,o,i),Hs(t,s,o)),o}function Si(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function pc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Fl(t,e){pc(t,e),(t=t.alternate)&&pc(t,e)}function pv(){return null}var wf=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wl(t){this._internalRoot=t}Wi.prototype.render=Wl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Fi(t,e,null,null)};Wi.prototype.unmount=Wl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fr(function(){Fi(null,t,null,null)}),e[gt]=null}};function Wi(t){this._internalRoot=t}Wi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Gd();t={blockedOn:null,target:t,priority:e};for(var r=0;r<jt.length&&e!==0&&e<jt[r].priority;r++);jt.splice(r,0,t),r===0&&Zd(t)}};function Vl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mc(){}function mv(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Si(o);i.call(c)}}var o=yf(e,n,t,0,null,!1,!1,"",mc);return t._reactRootContainer=o,t[gt]=o.current,Vn(t.nodeType===8?t.parentNode:t),fr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=Si(l);a.call(c)}}var l=Bl(t,0,!1,null,null,!1,!1,"",mc);return t._reactRootContainer=l,t[gt]=l.current,Vn(t.nodeType===8?t.parentNode:t),fr(function(){Fi(e,l,r,n)}),l}function qi(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Si(o);a.call(l)}}Fi(e,o,t,s)}else o=mv(r,e,t,s,n);return Si(o)}Kd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=_n(e.pendingLanes);r!==0&&(ul(e,r|1),Ee(e,X()),!(U&6)&&(Gr=X()+500,Vt()))}break;case 13:fr(function(){var n=vt(t,1);if(n!==null){var s=we();Xe(n,t,1,s)}}),Fl(t,1)}};cl=function(t){if(t.tag===13){var e=vt(t,134217728);if(e!==null){var r=we();Xe(e,t,134217728,r)}Fl(t,134217728)}};Jd=function(t){if(t.tag===13){var e=Lt(t),r=vt(t,e);if(r!==null){var n=we();Xe(r,t,e,n)}Fl(t,e)}};Gd=function(){return M};Qd=function(t,e){var r=M;try{return M=t,e()}finally{M=r}};Xo=function(t,e,r){switch(e){case"input":if(Ho(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=$i(n);if(!s)throw Error(j(90));Nd(n),Ho(n,s)}}}break;case"textarea":Td(t,r);break;case"select":e=r.value,e!=null&&Lr(t,!!r.multiple,e,!1)}};Ld=Ul;Ud=fr;var gv={usingClientEntryPoint:!1,Events:[us,Tr,$i,Id,$d,Ul]},yn={findFiberByHostInstance:nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vv={bundleType:yn.bundleType,version:yn.version,rendererPackageName:yn.rendererPackageName,rendererConfig:yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zd(t),t===null?null:t.stateNode},findFiberByHostInstance:yn.findFiberByHostInstance||pv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{Oi=Os.inject(vv),it=Os}catch{}}Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gv;Ae.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vl(e))throw Error(j(200));return fv(t,e,null,r)};Ae.createRoot=function(t,e){if(!Vl(t))throw Error(j(299));var r=!1,n="",s=wf;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Bl(t,1,!1,null,null,r,!1,n,s),t[gt]=e.current,Vn(t.nodeType===8?t.parentNode:t),new Wl(e)};Ae.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=zd(e),t=t===null?null:t.stateNode,t};Ae.flushSync=function(t){return fr(t)};Ae.hydrate=function(t,e,r){if(!Vi(e))throw Error(j(200));return qi(null,t,e,!0,r)};Ae.hydrateRoot=function(t,e,r){if(!Vl(t))throw Error(j(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=wf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=yf(e,null,t,1,r??null,s,!1,i,o),t[gt]=e.current,Vn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Wi(e)};Ae.render=function(t,e,r){if(!Vi(e))throw Error(j(200));return qi(null,t,e,!1,r)};Ae.unmountComponentAtNode=function(t){if(!Vi(t))throw Error(j(40));return t._reactRootContainer?(fr(function(){qi(null,null,t,!1,function(){t._reactRootContainer=null,t[gt]=null})}),!0):!1};Ae.unstable_batchedUpdates=Ul;Ae.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Vi(r))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return qi(t,e,r,!1,n)};Ae.version="18.3.1-next-f1338f8080-20240426";function xf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xf)}catch(t){console.error(t)}}xf(),wd.exports=Ae;var yv=wd.exports,gc=yv;Mo.createRoot=gc.createRoot,Mo.hydrateRoot=gc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xn(){return Xn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xn.apply(this,arguments)}var Tt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Tt||(Tt={}));const vc="popstate";function wv(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:o,hash:a}=n.location;return Ra("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ji(s)}return _v(e,r,null,t)}function ee(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _f(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xv(){return Math.random().toString(36).substr(2,8)}function yc(t,e){return{usr:t.state,key:t.key,idx:e}}function Ra(t,e,r,n){return r===void 0&&(r=null),Xn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?rn(e):e,{state:r,key:e&&e.key||n||xv()})}function ji(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function rn(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function _v(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=Tt.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Xn({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Tt.Pop;let x=d(),y=x==null?null:x-c;c=x,l&&l({action:a,location:w.location,delta:y})}function f(x,y){a=Tt.Push;let m=Ra(w.location,x,y);c=d()+1;let v=yc(m,c),_=w.createHref(m);try{o.pushState(v,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&l&&l({action:a,location:w.location,delta:1})}function g(x,y){a=Tt.Replace;let m=Ra(w.location,x,y);c=d();let v=yc(m,c),_=w.createHref(m);o.replaceState(v,"",_),i&&l&&l({action:a,location:w.location,delta:0})}function p(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof x=="string"?x:ji(x);return m=m.replace(/ $/,"%20"),ee(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let w={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(vc,h),l=x,()=>{s.removeEventListener(vc,h),l=null}},createHref(x){return e(s,x)},createURL:p,encodeLocation(x){let y=p(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:g,go(x){return o.go(x)}};return w}var wc;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wc||(wc={}));function bv(t,e,r){return r===void 0&&(r="/"),Sv(t,e,r)}function Sv(t,e,r,n){let s=typeof e=="string"?rn(e):e,i=ql(s.pathname||"/",r);if(i==null)return null;let o=bf(t);jv(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Lv(i);a=Av(o[l],c)}return a}function bf(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ee(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Dt([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(ee(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),bf(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Ov(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Sf(i.path))s(i,o,l)}),e}function Sf(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Sf(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function jv(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Rv(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const kv=/^:[\w-]+$/,Ev=3,Nv=2,Cv=1,Tv=10,Pv=-2,xc=t=>t==="*";function Ov(t,e){let r=t.split("/"),n=r.length;return r.some(xc)&&(n+=Pv),e&&(n+=Nv),r.filter(s=>!xc(s)).reduce((s,i)=>s+(kv.test(i)?Ev:i===""?Cv:Tv),n)}function Rv(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Av(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Iv({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Dt([i,h.pathname]),pathnameBase:zv(Dt([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Dt([i,h.pathnameBase]))}return o}function Iv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=$v(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let w=a[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const p=a[h];return g&&!p?c[f]=void 0:c[f]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function $v(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),_f(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Lv(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _f(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ql(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Uv(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?rn(t):t;return{pathname:r?r.startsWith("/")?r:Dv(r,e):e,search:Bv(n),hash:Fv(s)}}function Dv(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Eo(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mv(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Hl(t,e){let r=Mv(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Kl(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=rn(t):(s=Xn({},t),ee(!s.pathname||!s.pathname.includes("?"),Eo("?","pathname","search",s)),ee(!s.pathname||!s.pathname.includes("#"),Eo("#","pathname","hash",s)),ee(!s.search||!s.search.includes("#"),Eo("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=Uv(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Dt=t=>t.join("/").replace(/\/\/+/g,"/"),zv=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Bv=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Fv=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Wv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jf=["post","put","patch","delete"];new Set(jf);const Vv=["get",...jf];new Set(Vv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function es(){return es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},es.apply(this,arguments)}const Jl=b.createContext(null),qv=b.createContext(null),qt=b.createContext(null),Hi=b.createContext(null),Ht=b.createContext({outlet:null,matches:[],isDataRoute:!1}),kf=b.createContext(null);function Hv(t,e){let{relative:r}=e===void 0?{}:e;nn()||ee(!1);let{basename:n,navigator:s}=b.useContext(qt),{hash:i,pathname:o,search:a}=Nf(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Dt([n,o])),s.createHref({pathname:l,search:a,hash:i})}function nn(){return b.useContext(Hi)!=null}function ds(){return nn()||ee(!1),b.useContext(Hi).location}function Ef(t){b.useContext(qt).static||b.useLayoutEffect(t)}function sn(){let{isDataRoute:t}=b.useContext(Ht);return t?iy():Kv()}function Kv(){nn()||ee(!1);let t=b.useContext(Jl),{basename:e,future:r,navigator:n}=b.useContext(qt),{matches:s}=b.useContext(Ht),{pathname:i}=ds(),o=JSON.stringify(Hl(s,r.v7_relativeSplatPath)),a=b.useRef(!1);return Ef(()=>{a.current=!0}),b.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let h=Kl(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Dt([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,i,t])}function Nf(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=b.useContext(qt),{matches:s}=b.useContext(Ht),{pathname:i}=ds(),o=JSON.stringify(Hl(s,n.v7_relativeSplatPath));return b.useMemo(()=>Kl(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function Jv(t,e){return Gv(t,e)}function Gv(t,e,r,n){nn()||ee(!1);let{navigator:s}=b.useContext(qt),{matches:i}=b.useContext(Ht),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ds(),d;if(e){var h;let x=typeof e=="string"?rn(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||ee(!1),d=x}else d=c;let f=d.pathname||"/",g=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let p=bv(t,{pathname:g}),w=ey(p&&p.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Dt([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Dt([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return e&&w?b.createElement(Hi.Provider,{value:{location:es({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Tt.Pop}},w):w}function Qv(){let t=sy(),e=Wv(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:s},r):null,null)}const Zv=b.createElement(Qv,null);class Yv extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?b.createElement(Ht.Provider,{value:this.props.routeContext},b.createElement(kf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xv(t){let{routeContext:e,match:r,children:n}=t,s=b.useContext(Jl);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Ht.Provider,{value:e},n)}function ey(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ee(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:g}=r,p=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let g,p=!1,w=null,x=null;r&&(g=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||Zv,l&&(c<0&&f===0?(oy("route-fallback"),p=!0,x=null):c===f&&(p=!0,x=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),m=()=>{let v;return g?v=w:p?v=x:h.route.Component?v=b.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,b.createElement(Xv,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:v})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(Yv,{location:r.location,revalidation:r.revalidation,component:w,error:g,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var Cf=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Cf||{}),Tf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Tf||{});function ty(t){let e=b.useContext(Jl);return e||ee(!1),e}function ry(t){let e=b.useContext(qv);return e||ee(!1),e}function ny(t){let e=b.useContext(Ht);return e||ee(!1),e}function Pf(t){let e=ny(),r=e.matches[e.matches.length-1];return r.route.id||ee(!1),r.route.id}function sy(){var t;let e=b.useContext(kf),r=ry(),n=Pf();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function iy(){let{router:t}=ty(Cf.UseNavigateStable),e=Pf(Tf.UseNavigateStable),r=b.useRef(!1);return Ef(()=>{r.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,es({fromRouteId:e},i)))},[t,e])}const _c={};function oy(t,e,r){_c[t]||(_c[t]=!0)}function ay(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Gl(t){let{to:e,replace:r,state:n,relative:s}=t;nn()||ee(!1);let{future:i,static:o}=b.useContext(qt),{matches:a}=b.useContext(Ht),{pathname:l}=ds(),c=sn(),d=Kl(e,Hl(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return b.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:s}),[c,h,s,r,n]),null}function lt(t){ee(!1)}function ly(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Tt.Pop,navigator:i,static:o=!1,future:a}=t;nn()&&ee(!1);let l=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:i,static:o,future:es({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=rn(n));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:p="default"}=n,w=b.useMemo(()=>{let x=ql(d,l);return x==null?null:{location:{pathname:x,search:h,hash:f,state:g,key:p},navigationType:s}},[l,d,h,f,g,p,s]);return w==null?null:b.createElement(qt.Provider,{value:c},b.createElement(Hi.Provider,{children:r,value:w}))}function uy(t){let{children:e,location:r}=t;return Jv(Aa(e),r)}new Promise(()=>{});function Aa(t,e){e===void 0&&(e=[]);let r=[];return b.Children.forEach(t,(n,s)=>{if(!b.isValidElement(n))return;let i=[...e,s];if(n.type===b.Fragment){r.push.apply(r,Aa(n.props.children,i));return}n.type!==lt&&ee(!1),!n.props.index||!n.props.children||ee(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Aa(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ia(){return Ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ia.apply(this,arguments)}function cy(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function dy(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hy(t,e){return t.button===0&&(!e||e==="_self")&&!dy(t)}const fy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],py="6";try{window.__reactRouterVersion=py}catch{}const my="startTransition",bc=am[my];function gy(t){let{basename:e,children:r,future:n,window:s}=t,i=b.useRef();i.current==null&&(i.current=wv({window:s,v5Compat:!0}));let o=i.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=b.useCallback(h=>{c&&bc?bc(()=>l(h)):l(h)},[l,c]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>ay(n),[n]),b.createElement(ly,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const vy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,No=b.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=cy(e,fy),{basename:g}=b.useContext(qt),p,w=!1;if(typeof c=="string"&&yy.test(c)&&(p=c,vy))try{let v=new URL(window.location.href),_=c.startsWith("//")?new URL(v.protocol+c):new URL(c),S=ql(_.pathname,g);_.origin===v.origin&&S!=null?c=S+_.search+_.hash:w=!0}catch{}let x=Hv(c,{relative:s}),y=wy(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function m(v){n&&n(v),v.defaultPrevented||y(v)}return b.createElement("a",Ia({},f,{href:p||x,onClick:w||i?n:m,ref:r,target:l}))});var Sc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Sc||(Sc={}));var jc;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(jc||(jc={}));function wy(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=sn(),c=ds(),d=Nf(t,{relative:o});return b.useCallback(h=>{if(hy(h,r)){h.preventDefault();let f=n!==void 0?n:ji(c)===ji(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,n,s,r,t,i,o,a])}const xy={},kc=t=>{let e;const r=new Set,n=(d,h)=>{const f=typeof d=="function"?d(e):d;if(!Object.is(f,e)){const g=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),r.forEach(p=>p(e,g))}},s=()=>e,l={setState:n,getState:s,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(xy?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=e=t(n,s,l);return l},_y=t=>t?kc(t):kc;var Of={exports:{}},Rf={},Af={exports:{}},If={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qr=b;function by(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sy=typeof Object.is=="function"?Object.is:by,jy=Qr.useState,ky=Qr.useEffect,Ey=Qr.useLayoutEffect,Ny=Qr.useDebugValue;function Cy(t,e){var r=e(),n=jy({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return Ey(function(){s.value=r,s.getSnapshot=e,Co(s)&&i({inst:s})},[t,r,e]),ky(function(){return Co(s)&&i({inst:s}),t(function(){Co(s)&&i({inst:s})})},[t]),Ny(r),r}function Co(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Sy(t,r)}catch{return!0}}function Ty(t,e){return e()}var Py=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ty:Cy;If.useSyncExternalStore=Qr.useSyncExternalStore!==void 0?Qr.useSyncExternalStore:Py;Af.exports=If;var Oy=Af.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ki=b,Ry=Oy;function Ay(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Iy=typeof Object.is=="function"?Object.is:Ay,$y=Ry.useSyncExternalStore,Ly=Ki.useRef,Uy=Ki.useEffect,Dy=Ki.useMemo,My=Ki.useDebugValue;Rf.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var i=Ly(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Dy(function(){function l(g){if(!c){if(c=!0,d=g,g=n(g),s!==void 0&&o.hasValue){var p=o.value;if(s(p,g))return h=p}return h=g}if(p=h,Iy(d,g))return p;var w=n(g);return s!==void 0&&s(p,w)?(d=g,p):(d=g,h=w)}var c=!1,d,h,f=r===void 0?null:r;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,r,n,s]);var a=$y(t,i[0],i[1]);return Uy(function(){o.hasValue=!0,o.value=a},[a]),My(a),a};Of.exports=Rf;var zy=Of.exports;const By=ad(zy),$f={},{useDebugValue:Fy}=el,{useSyncExternalStoreWithSelector:Wy}=By;let Ec=!1;const Vy=t=>t;function qy(t,e=Vy,r){($f?"production":void 0)!=="production"&&r&&!Ec&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Ec=!0);const n=Wy(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return Fy(n),n}const Nc=t=>{($f?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?_y(t):t,r=(n,s)=>qy(e,n,s);return Object.assign(r,e),r},Hy=t=>t?Nc(t):Nc;var $a=function(t,e){return $a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},$a(t,e)};function Lf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");$a(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ki=function(){return ki=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ki.apply(this,arguments)};function on(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Uf(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function Df(t,e){return function(r,n){e(r,n,t)}}function Mf(t,e,r,n,s,i){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,d=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),h,f=!1,g=r.length-1;g>=0;g--){var p={};for(var w in n)p[w]=w==="access"?{}:n[w];for(var w in n.access)p.access[w]=n.access[w];p.addInitializer=function(y){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(y||null))};var x=(0,r[g])(a==="accessor"?{get:d.get,set:d.set}:d[l],p);if(a==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(h=o(x.get))&&(d.get=h),(h=o(x.set))&&(d.set=h),(h=o(x.init))&&s.unshift(h)}else(h=o(x))&&(a==="field"?s.unshift(h):d[l]=h)}c&&Object.defineProperty(c,n.name,d),f=!0}function zf(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function Bf(t){return typeof t=="symbol"?t:"".concat(t)}function Ff(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Wf(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function P(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function Vf(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(d){c=[6,d],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Ji=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function qf(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ji(e,t,r)}function Ei(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ql(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Hf(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ql(arguments[e]));return t}function Kf(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Jf(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function Zr(t){return this instanceof Zr?(this.v=t,this):new Zr(t)}function Gf(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(g){return function(p){return Promise.resolve(p).then(g,h)}}function a(g,p){n[g]&&(s[g]=function(w){return new Promise(function(x,y){i.push([g,w,x,y])>1||l(g,w)})},p&&(s[g]=p(s[g])))}function l(g,p){try{c(n[g](p))}catch(w){f(i[0][3],w)}}function c(g){g.value instanceof Zr?Promise.resolve(g.value.v).then(d,h):f(i[0][2],g)}function d(g){l("next",g)}function h(g){l("throw",g)}function f(g,p){g(p),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Qf(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:Zr(t[s](o)),done:!1}:i?i(o):o}:i}}function Zf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Ei=="function"?Ei(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function Yf(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Ky=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},La=function(t){return La=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},La(t)};function Xf(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=La(t),n=0;n<r.length;n++)r[n]!=="default"&&Ji(e,t,r[n]);return Ky(e,t),e}function ep(t){return t&&t.__esModule?t:{default:t}}function tp(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function rp(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function np(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function sp(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var Jy=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function ip(t){function e(i){t.error=t.hasError?new Jy(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function op(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?e?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):t}const Gy={__extends:Lf,__assign:ki,__rest:on,__decorate:Uf,__param:Df,__esDecorate:Mf,__runInitializers:zf,__propKey:Bf,__setFunctionName:Ff,__metadata:Wf,__awaiter:P,__generator:Vf,__createBinding:Ji,__exportStar:qf,__values:Ei,__read:Ql,__spread:Hf,__spreadArrays:Kf,__spreadArray:Jf,__await:Zr,__asyncGenerator:Gf,__asyncDelegator:Qf,__asyncValues:Zf,__makeTemplateObject:Yf,__importStar:Xf,__importDefault:ep,__classPrivateFieldGet:tp,__classPrivateFieldSet:rp,__classPrivateFieldIn:np,__addDisposableResource:sp,__disposeResources:ip,__rewriteRelativeImportExtension:op},Qy=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:sp,get __assign(){return ki},__asyncDelegator:Qf,__asyncGenerator:Gf,__asyncValues:Zf,__await:Zr,__awaiter:P,__classPrivateFieldGet:tp,__classPrivateFieldIn:np,__classPrivateFieldSet:rp,__createBinding:Ji,__decorate:Uf,__disposeResources:ip,__esDecorate:Mf,__exportStar:qf,__extends:Lf,__generator:Vf,__importDefault:ep,__importStar:Xf,__makeTemplateObject:Yf,__metadata:Wf,__param:Df,__propKey:Bf,__read:Ql,__rest:on,__rewriteRelativeImportExtension:op,__runInitializers:zf,__setFunctionName:Ff,__spread:Hf,__spreadArray:Jf,__spreadArrays:Kf,__values:Ei,default:Gy},Symbol.toStringTag,{value:"Module"})),Zy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Zl extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Cc extends Zl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Tc extends Zl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Pc extends Zl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ua;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ua||(Ua={}));class Yy{constructor(e,{headers:r={},customFetch:n,region:s=Ua.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Zy(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return P(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:i,method:o,body:a,signal:l}=n;let c={},{region:d}=n;d||(d=this.region);const h=new URL(`${this.url}/${r}`);d&&d!=="any"&&(c["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let f;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(c["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(c["Content-Type"]="application/json",f=JSON.stringify(a)):f=a;const g=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:f,signal:l}).catch(y=>{throw y.name==="AbortError"?y:new Cc(y)}),p=g.headers.get("x-relay-error");if(p&&p==="true")throw new Tc(g);if(!g.ok)throw new Pc(g);let w=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return w==="application/json"?x=yield g.json():w==="application/octet-stream"||w==="application/pdf"?x=yield g.blob():w==="text/event-stream"?x=g:w==="multipart/form-data"?x=yield g.formData():x=yield g.text(),{data:x,error:null,response:g}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Cc(i)}:{data:null,error:i,response:i instanceof Pc||i instanceof Tc?i.context:void 0}}})}}var ye={};const an=qp(Qy);var Rs={},As={},Is={},$s={},Ls={},Us={},Oc;function ap(){if(Oc)return Us;Oc=1,Object.defineProperty(Us,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Us.default=t,Us}var Rc;function lp(){if(Rc)return Ls;Rc=1,Object.defineProperty(Ls,"__esModule",{value:!0});const e=an.__importDefault(ap());class r{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,d,h,f;let g=null,p=null,w=null,x=l.status,y=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?p=S:p=JSON.parse(S))}const v=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&_&&_.length>1&&(w=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(g={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,w=null,x=406,y="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const v=await l.text();try{g=JSON.parse(v),Array.isArray(g)&&l.status===404&&(p=[],g=null,x=200,y="OK")}catch{l.status===404&&v===""?(x=204,y="No Content"):g={message:v}}if(g&&this.isMaybeSingle&&(!((f=g==null?void 0:g.details)===null||f===void 0)&&f.includes("0 rows"))&&(g=null,x=200,y="OK"),g&&this.shouldThrowOnError)throw new e.default(g)}return{error:g,data:p,count:w,status:x,statusText:y}});return this.shouldThrowOnError||(a=a.catch(l=>{var c,d,h;return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(d=l==null?void 0:l.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=l==null?void 0:l.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}}return Ls.default=r,Ls}var Ac;function up(){if(Ac)return $s;Ac=1,Object.defineProperty($s,"__esModule",{value:!0});const e=an.__importDefault(lp());class r extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return $s.default=r,$s}var Ic;function Yl(){if(Ic)return Is;Ic=1,Object.defineProperty(Is,"__esModule",{value:!0});const e=an.__importDefault(up()),r=new RegExp("[,()]");class n extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${c}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}}return Is.default=n,Is}var $c;function cp(){if($c)return As;$c=1,Object.defineProperty(As,"__esModule",{value:!0});const e=an.__importDefault(Yl());class r{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let c=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,g)=>f.concat(Object.keys(g)),[]);if(h.length>0){const f=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return As.default=r,As}var Lc;function Xy(){if(Lc)return Rs;Lc=1,Object.defineProperty(Rs,"__esModule",{value:!0});const t=an,e=t.__importDefault(cp()),r=t.__importDefault(Yl());class n{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:c}={}){var d;let h;const f=new URL(`${this.url}/rpc/${i}`);let g;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([w,x])=>x!==void 0).map(([w,x])=>[w,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([w,x])=>{f.searchParams.append(w,x)})):(h="POST",g=o);const p=new Headers(this.headers);return c&&p.set("Prefer",`count=${c}`),new r.default({method:h,url:f,headers:p,schema:this.schemaName,body:g,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Rs.default=n,Rs}Object.defineProperty(ye,"__esModule",{value:!0});var dp=ye.PostgrestError=_p=ye.PostgrestBuilder=wp=ye.PostgrestTransformBuilder=vp=ye.PostgrestFilterBuilder=mp=ye.PostgrestQueryBuilder=fp=ye.PostgrestClient=void 0;const ln=an,hp=ln.__importDefault(Xy());var fp=ye.PostgrestClient=hp.default;const pp=ln.__importDefault(cp());var mp=ye.PostgrestQueryBuilder=pp.default;const gp=ln.__importDefault(Yl());var vp=ye.PostgrestFilterBuilder=gp.default;const yp=ln.__importDefault(up());var wp=ye.PostgrestTransformBuilder=yp.default;const xp=ln.__importDefault(lp());var _p=ye.PostgrestBuilder=xp.default;const bp=ln.__importDefault(ap());dp=ye.PostgrestError=bp.default;var Sp=ye.default={PostgrestClient:hp.default,PostgrestQueryBuilder:pp.default,PostgrestFilterBuilder:gp.default,PostgrestTransformBuilder:yp.default,PostgrestBuilder:xp.default,PostgrestError:bp.default};const e0=od({__proto__:null,get PostgrestBuilder(){return _p},get PostgrestClient(){return fp},get PostgrestError(){return dp},get PostgrestFilterBuilder(){return vp},get PostgrestQueryBuilder(){return mp},get PostgrestTransformBuilder(){return wp},default:Sp},[ye]),{PostgrestClient:t0,PostgrestQueryBuilder:r_,PostgrestFilterBuilder:n_,PostgrestTransformBuilder:s_,PostgrestBuilder:i_,PostgrestError:o_}=Sp||e0;class r0{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const n0="2.79.0",s0=`realtime-js/${n0}`,i0="1.0.0",Da=1e4,o0=1e3,a0=100;var An;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(An||(An={}));var ne;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ne||(ne={}));var Ge;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ge||(Ge={}));var Ma;(function(t){t.websocket="websocket"})(Ma||(Ma={}));var tr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(tr||(tr={}));class l0{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class jp{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var B;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(B||(B={}));const Uc=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=u0(o,t,e,s),i),{}):{}},u0=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?kp(i,o):za(o)},kp=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return f0(e,r)}switch(t){case B.bool:return c0(e);case B.float4:case B.float8:case B.int2:case B.int4:case B.int8:case B.numeric:case B.oid:return d0(e);case B.json:case B.jsonb:return h0(e);case B.timestamp:return p0(e);case B.abstime:case B.date:case B.daterange:case B.int4range:case B.int8range:case B.money:case B.reltime:case B.text:case B.time:case B.timestamptz:case B.timetz:case B.tsrange:case B.tstzrange:return za(e);default:return za(e)}},za=t=>t,c0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},d0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},h0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},f0=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>kp(e,a))}return t},p0=t=>typeof t=="string"?t.replace(" ","T"):t,Ep=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class To{constructor(e,r,n={},s=Da){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Dc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Dc||(Dc={}));class In{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=In.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=In.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=In.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(x=>x.presence_ref),g=h.map(x=>x.presence_ref),p=d.filter(x=>g.indexOf(x.presence_ref)<0),w=h.filter(x=>f.indexOf(x.presence_ref)<0);p.length>0&&(a[c]=p),w.length>0&&(l[c]=w)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(g=>g.presence_ref),f=d.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...f)}n(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Mc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Mc||(Mc={}));var $n;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})($n||($n={}));var ct;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ct||(ct={}));class Xl{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new To(this,Ge.join,this.params,this.timeout),this.rejoinTimer=new jp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ne.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ge.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new In(this),this.broadcastEndpointURL=Ep(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ne.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[$n.PRESENCE]&&this.bindings[$n.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(ct.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(ct.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var p;if(this.socket.setAuth(),g===void 0){e==null||e(ct.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(p=w==null?void 0:w.length)!==null&&p!==void 0?p:0,y=[];for(let m=0;m<x;m++){const v=w[m],{filter:{event:_,schema:S,table:k,filter:E}}=v,T=g&&g[m];if(T&&T.event===_&&T.schema===S&&T.table===k&&T.filter===E)y.push(Object.assign(Object.assign({},v),{id:T.id}));else{this.unsubscribe(),this.state=ne.errored,e==null||e(ct.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(ct.SUBSCRIBED);return}}).receive("error",g=>{this.state=ne.errored,e==null||e(ct.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ct.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ne.joined&&e===$n.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ne.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ge.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new To(this,Ge.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ne.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new To(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>a0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Ge;if(n&&[a,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var p,w,x;return((p=g.filter)===null||p===void 0?void 0:p.event)==="*"||((x=(w=g.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(g=>g.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var p,w,x,y,m,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const _=g.id,S=(p=g.filter)===null||p===void 0?void 0:p.event;return _&&((w=r.ids)===null||w===void 0?void 0:w.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(m=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:w,table:x,commit_timestamp:y,type:m,errors:v}=p;f=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:y,eventType:m,new:{},old:{},errors:v}),this._getPayloadRecords(p))}g.callback(f,n)})}_isClosed(){return this.state===ne.closed}_isJoined(){return this.state===ne.joined}_isJoining(){return this.state===ne.joining}_isLeaving(){return this.state===ne.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Xl.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ge.close,{},e)}_onError(e){this._on(Ge.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ne.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Uc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Uc(e.columns,e.old_record)),r}}const Po=()=>{},Ds={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},m0=[1e3,2e3,5e3,1e4],g0=1e4,v0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class y0{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Da,this.transport=null,this.heartbeatIntervalMs=Ds.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Po,this.ref=0,this.reconnectTimer=null,this.logger=Po,this.conn=null,this.sendBuffer=[],this.serializer=new l0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Ma.websocket}`,this.httpEndpoint=Ep(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=r0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:i0}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case An.connecting:return tr.Connecting;case An.open:return tr.Open;case An.closing:return tr.Closing;default:return tr.Closed}}isConnected(){return this.connectionState()===tr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Xl(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(o0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ds.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ge.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([v0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:s0};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ge.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new jp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ds.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,c,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Da,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ds.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Po,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>m0[h-1]||g0,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,f)=>f(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class eu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function H(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class w0 extends eu{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ba extends eu{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const tu=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),x0=()=>Response,Fa=t=>{if(Array.isArray(t))return t.map(r=>Fa(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Fa(n)}),e},_0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Oo=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},b0=(t,e,r)=>P(void 0,void 0,void 0,function*(){const n=yield x0();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new w0(Oo(s),i,o))}).catch(s=>{e(new Ba(Oo(s),s))}):e(new Ba(Oo(t),t))}),S0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(_0(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function hs(t,e,r,n,s,i){return P(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,S0(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>b0(l,a,n))})})}function ts(t,e,r,n){return P(this,void 0,void 0,function*(){return hs(t,"GET",e,r,n)})}function Ke(t,e,r,n,s){return P(this,void 0,void 0,function*(){return hs(t,"POST",e,n,s,r)})}function Wa(t,e,r,n,s){return P(this,void 0,void 0,function*(){return hs(t,"PUT",e,n,s,r)})}function j0(t,e,r,n){return P(this,void 0,void 0,function*(){return hs(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function ru(t,e,r,n,s){return P(this,void 0,void 0,function*(){return hs(t,"DELETE",e,n,s,r)})}class k0{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return P(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(H(e))return{data:null,error:e};throw e}})}}var Np;class E0{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Np]="BlobDownloadBuilder",this.promise=null}asStream(){return new k0(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return P(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(H(e))return{data:null,error:e};throw e}})}}Np=Symbol.toStringTag;const N0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class C0{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=tu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return P(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},zc),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield(e=="PUT"?Wa:Ke)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(H(i))return{data:null,error:i};throw i}})}upload(e,r,n){return P(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return P(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:zc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield Wa(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(H(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return P(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ke(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new eu("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(H(n))return{data:null,error:n};throw n}})}update(e,r,n){return P(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return P(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(H(s))return{data:null,error:s};throw s}})}copy(e,r,n){return P(this,void 0,void 0,function*(){try{return{data:{path:(yield Ke(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(H(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return P(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ke(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(H(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return P(this,void 0,void 0,function*(){try{const s=yield Ke(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(H(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>ts(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new E0(l,this.shouldThrowOnError)}info(e){return P(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ts(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Fa(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(H(n))return{data:null,error:n};throw n}})}exists(e){return P(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield j0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(H(n)&&n instanceof Ba){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return P(this,void 0,void 0,function*(){try{return{data:yield ru(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}})}list(e,r,n){return P(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},N0),r),{prefix:e||""});return{data:yield Ke(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(H(s))return{data:null,error:s};throw s}})}listV2(e,r){return P(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ke(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(H(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Cp="2.79.0",Tp={"X-Client-Info":`storage-js/${Cp}`};class T0{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tp),r),this.fetch=tu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return P(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield ts(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}})}getBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}})}createBucket(e){return P(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ke(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(H(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return P(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(H(n))return{data:null,error:n};throw n}})}emptyBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}})}deleteBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield ru(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class P0{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tp),r),this.fetch=tu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}})}listBuckets(e){return P(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield ts(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}})}deleteBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield ru(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}})}}const nu={"X-Client-Info":`storage-js/${Cp}`,"Content-Type":"application/json"};class Pp extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ce(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Ro extends Pp{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class O0 extends Pp{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Bc;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Bc||(Bc={}));const su=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),R0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Fc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),A0=(t,e,r)=>P(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Ro(Fc(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Ro(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Ro(a,s,o))}}else e(new O0(Fc(t),t))}),I0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(R0(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function $0(t,e,r,n,s,i){return P(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,I0(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>A0(l,a,n))})})}function Te(t,e,r,n,s){return P(this,void 0,void 0,function*(){return $0(t,"POST",e,n,s,r)})}class L0{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nu),r),this.fetch=su(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return P(this,void 0,void 0,function*(){try{return{data:(yield Te(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}getIndex(e,r){return P(this,void 0,void 0,function*(){try{return{data:yield Te(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}})}listIndexes(e){return P(this,void 0,void 0,function*(){try{return{data:yield Te(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return P(this,void 0,void 0,function*(){try{return{data:(yield Te(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}})}}class U0{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nu),r),this.fetch=su(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return P(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Te(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}getVectors(e){return P(this,void 0,void 0,function*(){try{return{data:yield Te(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}listVectors(e){return P(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Te(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}queryVectors(e){return P(this,void 0,void 0,function*(){try{return{data:yield Te(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}deleteVectors(e){return P(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Te(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}}class D0{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nu),r),this.fetch=su(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return P(this,void 0,void 0,function*(){try{return{data:(yield Te(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}getBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield Te(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}listBuckets(){return P(this,arguments,void 0,function*(e={}){try{return{data:yield Te(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}deleteBucket(e){return P(this,void 0,void 0,function*(){try{return{data:(yield Te(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}}class M0 extends D0{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new z0(this.url,this.headers,e,this.fetch)}}class z0 extends L0{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return P(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return P(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return P(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return P(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new B0(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class B0 extends U0{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return P(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return P(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return P(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return P(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return P(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class F0 extends T0{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new C0(this.url,this.headers,e,this.fetch)}get vectors(){return new M0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new P0(this.url+"/iceberg",this.headers,this.fetch)}}const W0="2.79.0";let Sn="";typeof Deno<"u"?Sn="deno":typeof document<"u"?Sn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sn="react-native":Sn="node";const V0={"X-Client-Info":`supabase-js-${Sn}/${W0}`},q0={headers:V0},H0={schema:"public"},K0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},J0={},G0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Q0=()=>Headers,Z0=(t,e,r)=>{const n=G0(r),s=Q0();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))}};function Y0(t){return t.endsWith("/")?t:t+"/"}function X0(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function ew(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Y0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Op="2.79.0",br=30*1e3,Va=3,Ao=Va*br,tw="http://localhost:9999",rw="supabase.auth.token",nw={"X-Client-Info":`gotrue-js/${Op}`},qa="X-Supabase-Api-Version",Rp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,iw=10*60*1e3;class rs extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function O(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ow extends rs{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function aw(t){return O(t)&&t.name==="AuthApiError"}class rr extends rs{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Kt extends rs{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class We extends Kt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lw(t){return O(t)&&t.name==="AuthSessionMissingError"}class vr extends Kt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ms extends Kt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class zs extends Kt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uw(t){return O(t)&&t.name==="AuthImplicitGrantRedirectError"}class Wc extends Kt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ha extends Kt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Io(t){return O(t)&&t.name==="AuthRetryableFetchError"}class Vc extends Kt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ka extends Kt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ni="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qc=` 	
\r=`.split(""),cw=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<qc.length;e+=1)t[qc[e].charCodeAt(0)]=-2;for(let e=0;e<Ni.length;e+=1)t[Ni[e].charCodeAt(0)]=e;return t})();function Hc(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ni[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ni[n]),e.queuedBits-=6}}function Ap(t,e,r){const n=cw[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Kc(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{fw(o,n,r)};for(let o=0;o<t.length;o+=1)Ap(t.charCodeAt(o),s,i);return e.join("")}function dw(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function hw(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}dw(n,e)}}function fw(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Fr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Ap(t.charCodeAt(s),r,n);return new Uint8Array(e)}function pw(t){const e=[];return hw(t,r=>e.push(r)),new Uint8Array(e)}function or(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Hc(s,r,n)),Hc(null,r,n),e.join("")}function mw(t){return Math.round(Date.now()/1e3)+t}function gw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const pe=()=>typeof window<"u"&&typeof document<"u",Qt={tested:!1,writable:!1},Ip=()=>{if(!pe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qt.tested)return Qt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Qt.tested=!0,Qt.writable=!0}catch{Qt.tested=!0,Qt.writable=!1}return Qt.writable};function vw(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const $p=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),yw=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Sr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Zt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_t=async(t,e)=>{await t.removeItem(e)};class Gi{constructor(){this.promise=new Gi.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Gi.promiseConstructor=Promise;function $o(t){const e=t.split(".");if(e.length!==3)throw new Ka("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!sw.test(e[n]))throw new Ka("JWT not in base64url format");return{header:JSON.parse(Kc(e[0])),payload:JSON.parse(Kc(e[1])),signature:Fr(e[2]),raw:{header:e[0],payload:e[1]}}}async function ww(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function xw(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function _w(t){return("0"+t.toString(16)).substr(-2)}function bw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,_w).join("")}async function Sw(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function jw(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Sw(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yr(t,e,r=!1){const n=bw();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Sr(t,`${e}-code-verifier`,s);const i=await jw(n);return[i,n===i?"plain":"s256"]}const kw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ew(t){const e=t.headers.get(qa);if(!e||!e.match(kw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Nw(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Cw(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Tw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wr(t){if(!Tw.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Lo(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Pw(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Jc(t){return JSON.parse(JSON.stringify(t))}const er=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ow=[502,503,504];async function Gc(t){var e;if(!yw(t))throw new Ha(er(t),0);if(Ow.includes(t.status))throw new Ha(er(t),t.status);let r;try{r=await t.json()}catch(i){throw new rr(er(i),i)}let n;const s=Ew(t);if(s&&s.getTime()>=Rp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Vc(er(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new We}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Vc(er(r),t.status,r.weak_password.reasons);throw new ow(er(r),t.status||500,n)}const Rw=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function R(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[qa]||(i[qa]=Rp["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Aw(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Aw(t,e,r,n,s,i){const o=Rw(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Ha(er(l),0)}if(a.ok||await Gc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Gc(l)}}function Ve(t){var e;let r=null;Lw(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=mw(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Qc(t){const e=Ve(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Et(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Iw(t){return{data:t,error:null}}function $w(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=on(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Zc(t){return t}function Lw(t){return t.access_token&&t.refresh_token&&t.expires_in}const Uo=["global","local","others"];class Uw{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=$p(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Uo[0]){if(Uo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Uo.join(", ")}`);try{return await R(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await R(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Et})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=on(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await R(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:$w,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(O(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await R(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Et})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await R(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Zc});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(p=>{const w=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(p.split(";")[1].split("=")[1]);c[`${x}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(O(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){wr(e);try{return await R(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Et})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){wr(e);try{return await R(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Et})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){wr(e);try{return await R(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Et})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){wr(e.userId);try{const{data:r,error:n}=await R(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(O(r))return{data:null,error:r};throw r}}async _deleteFactor(e){wr(e.userId),wr(e.id);try{return{data:await R(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await R(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Zc});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(p=>{const w=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(p.split(";")[1].split("=")[1]);c[`${x}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(O(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await R(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await R(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await R(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await R(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await R(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}}}function Yc(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const xr={debug:!!(globalThis&&Ip()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lp extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Dw extends Lp{}async function Mw(t,e,r){xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),xr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Dw(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(xr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function zw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Up(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Bw(t){return parseInt(t,16)}function Fw(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Ww(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=Up(t.address),p=d?`${d}://${n}`:n,w=t.statement?`${t.statement}
`:"",x=`${p} wants you to sign in with your Ethereum account:
${g}

${w}`;let y=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let m=`
Resources:`;for(const v of c){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);m+=`
- ${v}`}y+=m}return`${x}
${y}`}class te extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ci extends te{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Vw({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new te({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new te({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new te({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new te({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new te({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new te({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new te({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new te({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Dp(o)){if(i.rp.id!==o)return new te({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new te({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new te({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function qw({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new te({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new te({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Dp(n)){if(r.rpId!==n)return new te({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new te({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Hw{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Kw=new Hw;function Jw(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=on(t,["challenge","user","excludeCredentials"]),i=Fr(e).buffer,o=Object.assign(Object.assign({},r),{id:Fr(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Fr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Gw(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=on(t,["challenge","allowCredentials"]),s=Fr(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Fr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Qw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:or(new Uint8Array(t.response.attestationObject)),clientDataJSON:or(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Zw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:or(new Uint8Array(s.authenticatorData)),clientDataJSON:or(new Uint8Array(s.clientDataJSON)),signature:or(new Uint8Array(s.signature)),userHandle:s.userHandle?or(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Dp(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Xc(){var t,e;return!!(pe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Yw(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ci("Browser returned unexpected credential type",e)}:{data:null,error:new Ci("Empty credential response",e)}}catch(e){return{data:null,error:Vw({error:e,options:t})}}}async function Xw(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ci("Browser returned unexpected credential type",e)}:{data:null,error:new Ci("Empty credential response",e)}}catch(e){return{data:null,error:qw({error:e,options:t})}}}const ex={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},tx={userVerification:"preferred",hints:["security-key"]};function Ti(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=Ti(a,o):n[i]=Ti(o)}else n[i]=o}return n}function rx(t,e){return Ti(ex,t,e||{})}function nx(t,e){return Ti(tx,t,e||{})}class sx{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??Kw.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=rx(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await Yw({publicKey:c,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const c=nx(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await Xw(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return O(o)?{data:null,error:o}:{data:null,error:new rr("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!r)return{data:null,error:new rs("rpId is required for WebAuthn authentication")};try{if(!Xc())return{data:null,error:new rr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return O(o)?{data:null,error:o}:{data:null,error:new rr("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!r)return{data:null,error:new rs("rpId is required for WebAuthn registration")};try{if(!Xc())return{data:null,error:new rr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return O(o)?{data:null,error:o}:{data:null,error:new rr("Unexpected error in register",o)}}}}zw();const ix={url:tw,storageKey:rw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ed(t,e,r){return await r()}const _r={};class ns{get jwks(){var e,r;return(r=(e=_r[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){_r[this.storageKey]=Object.assign(Object.assign({},_r[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=_r[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){_r[this.storageKey]=Object.assign(Object.assign({},_r[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ns.nextInstanceID,ns.nextInstanceID+=1,this.instanceID>0&&pe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},ix),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Uw({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=$p(s.fetch),this.lock=s.lock||ed,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:pe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Mw:this.lock=ed,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new sx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Ip()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Yc(this.memoryStorage)),pe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Op}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(pe()&&(r=vw(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),pe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),uw(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return O(r)?this._returnResult({error:r}):this._returnResult({error:new rr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ve}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(O(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let g=null,p=null;this.flowType==="pkce"&&([g,p]=await yr(this.storage,this.storageKey)),i=await R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:p},xform:Ve})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ve})}else throw new Ms("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(O(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Qc})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Qc})}else throw new Ms("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new vr;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,c,d,h,f;let g,p;if("message"in e)g=e.message,p=e.signature;else{const{chain:w,wallet:x,statement:y,options:m}=e;let v;if(pe())if(typeof x=="object")v=x;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")v=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=x}const _=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),S=await v.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=Up(S[0]);let E=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const D=await v.request({method:"eth_chainId"});E=Bw(D)}const T={domain:_.host,address:k,statement:y,uri:_.href,version:"1",chainId:E,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=Ww(T),p=await v.request({method:"personal_sign",params:[Fw(g),k]})}try{const{data:w,error:x}=await R(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:p},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ve});if(x)throw x;if(!w||!w.session||!w.user){const y=new vr;return this._returnResult({data:{user:null,session:null},error:y})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:x})}catch(w){if(O(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,s,i,o,a,l,c,d,h,f,g;let p,w;if("message"in e)p=e.message,w=e.signature;else{const{chain:x,wallet:y,statement:m,options:v}=e;let _;if(pe())if(typeof y=="object")_=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const S=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),m?{statement:m}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)p=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),w=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(p),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=k}}try{const{data:x,error:y}=await R(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:or(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Ve});if(y)throw y;if(!x||!x.session||!x.user){const m=new vr;return this._returnResult({data:{user:null,session:null},error:m})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:y})}catch(x){if(O(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const r=await Zt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await R(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ve});if(await _t(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new vr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(O(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await R(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ve}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new vr;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await yr(this.storage,this.storageKey));const{error:h}=await R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new Ms("You must provide either an email or phone number.")}catch(a){if(O(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await R(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ve});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;this.flowType==="pkce"&&([i,o]=await yr(this.storage,this.storageKey));const a=await R(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Iw});return this._returnResult(a)}catch(i){if(O(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new We;const{error:s}=await R(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(O(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await R(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await R(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Ms("You must provide either an email or phone number and a type")}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Zt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ao:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Zt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Lo()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Pw(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Et}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new We}:await R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Et})})}catch(r){if(O(r))return lw(r)&&(await this._removeSession(),await _t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new We;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await yr(this.storage,this.storageKey));const{data:c,error:d}=await R(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Et});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(O(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new We;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=$o(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(O(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new We;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!pe())throw new zs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new zs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Wc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Wc("No code detected.");const{data:m,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new zs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const g=f-d;g*1e3<=br&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const p=f-h;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,d);const{data:w,error:x}=await this._getUser(i);if(x)throw x;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:e.type},error:null})}catch(n){if(O(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Zt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(aw(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await _t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=gw(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await yr(this.storage,this.storageKey,!0));try{return await R(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(O(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await R(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return pe()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(O(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:c,nonce:d}=e,h=await R(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ve}),{data:f,error:g}=h;return g?this._returnResult({data:{user:null,session:null},error:g}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new vr}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:g}))}catch(s){if(O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await R(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await xw(async s=>(s>0&&await ww(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await R(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ve})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Io(i)&&Date.now()+o-n<br})}catch(n){if(this._debug(r,"error",n),O(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),pe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Zt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Zt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Sr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Lo()}else if(s&&!s.user&&!s.user){const o=await Zt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await _t(this.storage,this.storageKey+"-user"),await Sr(this.storage,this.storageKey,s)):s.user=Lo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ao;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ao}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Io(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new We;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Gi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new We;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),O(i)){const o={data:null,error:i};return Io(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Sr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Jc(s);await Sr(this.storage,this.storageKey,i)}else{const s=Jc(r);await Sr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await _t(this.storage,this.storageKey),await _t(this.storage,this.storageKey+"-code-verifier"),await _t(this.storage,this.storageKey+"-user"),this.userStorage&&await _t(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&pe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),br);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/br);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${br}ms, refresh threshold is ${Va} ticks`),s<=Va&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Lp)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await yr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await R(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await R(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Qw(e.webauthn.credential_response):Zw(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await R(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await R(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Jw(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Gw(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=$o(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await R(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new We})})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new We});const o=await R(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&pe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new We});const o=await R(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&pe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+iw>s)return n;const{data:i,error:o}=await R(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:g,error:p}=await this.getSession();if(p||!g.session)return this._returnResult({data:null,error:p});n=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=$o(n);r!=null&&r.allowExpired||Nw(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const d=Cw(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,pw(`${a}.${l}`)))throw new Ka("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}}ns.nextInstanceID=0;const ox=ns;class ax extends ox{constructor(e){super(e)}}class lx{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=ew(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:H0,realtime:J0,auth:Object.assign(Object.assign({},K0),{storageKey:l}),global:q0},d=X0(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Z0(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new t0(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new F0(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Yy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c,throwOnError:d},h,f){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ax({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),h),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:c,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new y0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ux=(t,e,r)=>new lx(t,e,r);function cx(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}cx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const dx="https://bquggzgncrucbxscfjkx.supabase.co",hx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJxdWdnemduY3J1Y2J4c2Nmamt4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIzMjU5NjQsImV4cCI6MjA3NzkwMTk2NH0.sdxEEhTd_YPBfz0rZQzXVFsEbkiCKB5ftEYWR94COHI",J=ux(dx,hx),td=async()=>{const{data:t,error:e}=await J.from("teams").select("*");if(e)throw e;return t||[]},rd=async t=>{const{error:e}=await J.from("teams").upsert(t);if(e)throw e},fx=async t=>{const{error:e}=await J.from("teams").delete().eq("id",t);if(e)throw e},nd=async()=>{const{data:t,error:e}=await J.from("matches").select("*");if(e)throw e;return t||[]},rt=async t=>{const{error:e}=await J.from("matches").upsert(t);if(e)throw e},px=async t=>{const{error:e}=await J.from("matches").delete().eq("id",t);if(e)throw e},Ja=async()=>{const{data:t,error:e}=await J.from("courts").select("*");if(e)throw e;return t||[]},qe=async t=>{const{error:e}=await J.from("courts").upsert(t);if(e)throw e},sd=async()=>{const{data:t,error:e}=await J.from("referees").select("*");if(e)throw e;return t||[]},mx=async t=>{const{error:e}=await J.from("referees").upsert(t);if(e)throw e},gx=async t=>{const{error:e}=await J.from("referees").delete().eq("id",t);if(e)throw e},vx=async(t,e)=>{const{data:r,error:n}=await J.from("referees").select("*").eq("username",t).eq("password",e).single();return n||!r?null:r},Xs=async()=>{const{data:t,error:e}=await J.from("zones").select("*");if(e)throw e;return t||[]},yx=async t=>{const{error:e}=await J.from("zones").upsert(t);if(e)throw e},Mp=async t=>{const{data:e,error:r}=await J.from("score_history").select("*").eq("matchId",t).order("timestamp",{ascending:!1});if(r)throw r;return e||[]},wx=async t=>{const{error:e}=await J.from("score_history").insert(t);if(e)throw e},xx=async t=>{const e=await Mp(t);if(e.length>0){const{error:r}=await J.from("score_history").delete().eq("timestamp",e[0].timestamp);if(r)throw r}},_x=async()=>{await Promise.all([J.from("score_history").delete().neq("matchId",""),J.from("matches").delete().neq("id",""),J.from("teams").delete().neq("id",""),J.from("referees").delete().neq("id",""),J.from("courts").delete().neq("id",""),J.from("zones").delete().neq("id","")])},bx=async()=>{if((await Xs()).length===0&&await yx([{id:"zone-a",name:"Zone A",courts:[]},{id:"zone-b",name:"Zone B",courts:[]},{id:"zone-c",name:"Zone C",courts:[]},{id:"zone-d",name:"Zone D",courts:[]}]),(await Ja()).length===0){const r=[{id:"court-1",name:"Court 1",refereeId:"",refereeName:"Unassigned"},{id:"court-2",name:"Court 2",refereeId:"",refereeName:"Unassigned"},{id:"court-3",name:"Court 3",refereeId:"",refereeName:"Unassigned"}];for(const n of r)await qe(n)}},Qe={calculateTeamStats:(t,e)=>{const r=t.map(n=>({...n,stats:{matchesWon:0,matchesLost:0,points:0}}));return e.forEach(n=>{if(n.status==="completed"&&n.winner){const s=r.find(o=>o.id===n.winner.id),i=r.find(o=>o.id===(n.winner.id===n.team1.id?n.team2.id:n.team1.id));s&&(s.stats.matchesWon+=1,s.stats.points+=3),i&&(i.stats.matchesLost+=1,i.stats.points+=1)}}),r},getBestTeamByZone:(t,e)=>{const r=t.filter(n=>n.zone===e);if(r.length!==0)return r.reduce((n,s)=>s.stats.points>n.stats.points||s.stats.points===n.stats.points&&s.stats.matchesWon>n.stats.matchesWon?s:n)},getOverallBestTeam:t=>{if(t.length!==0)return t.reduce((e,r)=>r.stats.points>e.stats.points||r.stats.points===e.stats.points&&r.stats.matchesWon>e.stats.matchesWon?r:e)},calculatePlayerWins:t=>{const e=new Map;return t.forEach(r=>{r.status==="completed"&&r.winner&&r.winner.players.forEach(n=>{const s=e.get(n.id)||0;e.set(n.id,s+1)})}),e},getBestPlayer:(t,e)=>{const r=Qe.calculatePlayerWins(e);let n,s=0;return t.forEach(i=>{i.players.forEach(o=>{const a=r.get(o.id)||0;a>s&&(s=a,n=o)})}),n?{player:n,wins:s}:void 0},getBestPlayerByZone:(t,e,r)=>{const n=t.filter(a=>a.zone===r),s=Qe.calculatePlayerWins(e);let i,o=0;return n.forEach(a=>{a.players.forEach(l=>{const c=s.get(l.id)||0;c>o&&(o=c,i=l)})}),i?{player:i,wins:o}:void 0},calculateTournamentStats:(t,e,r)=>{const n=Qe.calculateTeamStats(t,e),s=e.filter(a=>a.status==="completed").length,i={},o={};return r.forEach(a=>{const l=Qe.getBestTeamByZone(n,a);l&&(i[a]=l);const c=Qe.getBestPlayerByZone(n,e,a);c&&(o[a]=c)}),{totalMatches:e.length,completedMatches:s,bestTeamByZone:i,bestPlayerByZone:o,overallBestTeam:Qe.getOverallBestTeam(n),overallBestPlayer:Qe.getBestPlayer(n,e)}},calculateAveragePoints:(t,e)=>{const r=e.filter(s=>s.status==="completed"&&(s.team1.id===t.id||s.team2.id===t.id));return r.length===0?0:r.reduce((s,i)=>{const o=i.team1.id===t.id?i.score.team1:i.score.team2;return s+o},0)/r.length}},at=Hy((t,e)=>({teams:[],matches:[],courts:[],referees:[],zones:[],scoreHistory:[],initializeData:async()=>{try{await bx();const[r,n,s,i,o]=await Promise.all([td(),nd(),Ja(),sd(),Xs()]);t({teams:r,matches:n,courts:s,referees:i,zones:o})}catch(r){console.error("Error initializing data:",r)}},refreshData:async()=>{try{const[r,n,s,i,o]=await Promise.all([td(),nd(),Ja(),sd(),Xs()]);t({teams:r,matches:n,courts:s,referees:i,zones:o})}catch(r){console.error("Error refreshing data:",r)}},addTeam:async r=>{try{await rd(r),await e().refreshData()}catch(n){console.error("Error adding team:",n)}},updateTeam:async(r,n)=>{try{const s=e().teams.find(i=>i.id===r);s&&(await rd({...s,...n}),await e().refreshData())}catch(s){console.error("Error updating team:",s)}},deleteTeam:async r=>{try{await fx(r),await e().refreshData()}catch(n){console.error("Error deleting team:",n)}},addMatch:async r=>{try{await rt(r),await e().refreshData()}catch(n){console.error("Error adding match:",n)}},updateMatch:async(r,n)=>{try{const s=e().matches.find(i=>i.id===r);s&&(await rt({...s,...n}),await e().refreshData())}catch(s){console.error("Error updating match:",s)}},deleteMatch:async r=>{var n;try{await px(r);const s=e().courts;for(const i of s)((n=i.match)==null?void 0:n.id)===r&&await qe({...i,match:void 0});await e().refreshData()}catch(s){console.error("Error deleting match:",s)}},assignMatchToCourt:async(r,n)=>{try{const s=e().matches.find(a=>a.id===r);if(!s)return;const i={...s,courtId:n};await rt(i);const o=e().courts.find(a=>a.id===n);o&&await qe({...o,match:i}),await e().refreshData()}catch(s){console.error("Error assigning match to court:",s)}},startMatch:async r=>{try{const n=e().matches.find(i=>i.id===r);if(!n)return;const s={...n,status:"live"};if(await rt(s),n.courtId){const i=e().courts.find(o=>o.id===n.courtId);i&&await qe({...i,match:s})}await e().refreshData()}catch(n){console.error("Error starting match:",n)}},updateMatchScore:async(r,n,s)=>{try{const i=e().matches.find(c=>c.id===r);if(!i)return;const o={...i.score};o[n]=s;const a={...i,score:o};await rt(a);const l={matchId:r,team:n,timestamp:Date.now()};if(await wx(l),i.courtId){const c=e().courts.find(d=>d.id===i.courtId);c&&await qe({...c,match:a})}await e().refreshData()}catch(i){console.error("Error updating match score:",i)}},finishMatch:async r=>{try{const n=e().matches.find(o=>o.id===r);if(!n)return;const s=n.score.team1>n.score.team2?n.team1:n.team2,i={...n,status:"completed",winner:s};if(await rt(i),n.courtId){const o=e().courts.find(a=>a.id===n.courtId);o&&await qe({...o,match:void 0})}await e().refreshData()}catch(n){console.error("Error finishing match:",n)}},requestMatchApproval:async(r,n)=>{try{const s=e().matches.find(o=>o.id===r);if(!s)return;const i={...s,pendingApproval:!0,requestedBy:n};await rt(i),await e().refreshData()}catch(s){console.error("Error requesting match approval:",s)}},approveMatchEnd:async r=>{try{const n=e().matches.find(o=>o.id===r);if(!n)return;const s=n.score.team1>n.score.team2?n.team1:n.team2,i={...n,status:"completed",winner:s,pendingApproval:!1,requestedBy:void 0};if(await rt(i),n.courtId){const o=e().courts.find(a=>a.id===n.courtId);o&&await qe({...o,match:void 0})}await e().refreshData()}catch(n){console.error("Error approving match end:",n)}},rejectMatchEnd:async r=>{try{const n=e().matches.find(i=>i.id===r);if(!n)return;const s={...n,pendingApproval:!1,requestedBy:void 0};await rt(s),await e().refreshData()}catch(n){console.error("Error rejecting match end:",n)}},undoLastScore:async r=>{try{const n=await Mp(r);if(n.length===0)return;const s=n[0],i=e().matches.find(l=>l.id===r);if(!i)return;const o={...i.score};o[s.team]=Math.max(0,o[s.team]-1);const a={...i,score:o};if(await rt(a),await xx(r),i.courtId){const l=e().courts.find(c=>c.id===i.courtId);l&&await qe({...l,match:a})}await e().refreshData()}catch(n){console.error("Error undoing last score:",n)}},addCourt:async r=>{try{await qe(r),await e().refreshData()}catch(n){console.error("Error adding court:",n)}},updateCourt:async(r,n)=>{try{const s=e().courts.find(i=>i.id===r);s&&(await qe({...s,...n}),await e().refreshData())}catch(s){console.error("Error updating court:",s)}},addReferee:async r=>{try{await mx(r),await e().refreshData()}catch(n){console.error("Error adding referee:",n)}},deleteReferee:async r=>{try{await gx(r),await e().refreshData()}catch(n){console.error("Error deleting referee:",n)}},assignRefereeToCourt:async(r,n)=>{try{const s=e().referees.find(o=>o.id===r),i=e().courts.find(o=>o.id===n);if(!s||!i)return;await qe({...i,refereeId:r,refereeName:s.name}),await e().refreshData()}catch(s){console.error("Error assigning referee to court:",s)}},initializeZones:async()=>{try{const r=await Xs();t({zones:r})}catch(r){console.error("Error initializing zones:",r)}},resetTournament:async()=>{try{await _x(),await e().initializeData()}catch(r){console.error("Error resetting tournament:",r)}},getTeamStats:()=>Qe.calculateTeamStats(e().teams,e().matches)}));/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),z=(t,e)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>b.createElement("svg",{ref:d,...Sx,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${jx(t)}`,a].join(" "),...c},[...e.map(([h,f])=>b.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=z("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=z("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=z("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=z("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=z("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=z("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=z("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=z("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=z("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=z("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=z("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=z("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=z("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=z("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Mx=()=>{const{teams:t,addTeam:e,updateTeam:r,deleteTeam:n}=at(),[s,i]=b.useState(!1),[o,a]=b.useState(null),[l,c]=b.useState({name:"",zone:"zone-a",player1Name:"",player2Name:""}),d=[{id:"zone-a",name:"Zone A"},{id:"zone-b",name:"Zone B"},{id:"zone-c",name:"Zone C"},{id:"zone-d",name:"Zone D"}],h=p=>{p.preventDefault();const w={id:`player-${Date.now()}-1`,name:l.player1Name},x={id:`player-${Date.now()}-2`,name:l.player2Name};if(o){const y=t.find(m=>m.id===o);if(y)if(window.confirm(`Are you sure you want to update team "${y.name}"?`))r(o,{name:l.name,zone:l.zone,players:[w,x]}),a(null);else return}else{const y={id:`team-${Date.now()}`,name:l.name,players:[w,x],zone:l.zone,stats:{matchesWon:0,matchesLost:0,points:0}};e(y)}c({name:"",zone:"zone-a",player1Name:"",player2Name:""}),i(!1)},f=p=>{var w,x;c({name:p.name,zone:p.zone,player1Name:((w=p.players[0])==null?void 0:w.name)||"",player2Name:((x=p.players[1])==null?void 0:x.name)||""}),a(p.id),i(!0)},g=()=>{c({name:"",zone:"zone-a",player1Name:"",player2Name:""}),i(!1),a(null)};return u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[u.jsx(is,{className:"w-6 h-6"}),"Team Management"]}),!s&&u.jsxs("button",{onClick:()=>i(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 transition",children:[u.jsx(ss,{className:"w-5 h-5"}),"Add Team"]})]}),s&&u.jsxs("form",{onSubmit:h,className:"mb-6 p-4 bg-gray-50 rounded-lg border-2 border-blue-200",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:o?"Edit Team":"Add New Team"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Name"}),u.jsx("input",{type:"text",required:!0,value:l.name,onChange:p=>c({...l,name:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter team name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zone"}),u.jsx("select",{value:l.zone,onChange:p=>c({...l,zone:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:d.map(p=>u.jsx("option",{value:p.id,children:p.name},p.id))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Player 1 Name"}),u.jsx("input",{type:"text",required:!0,value:l.player1Name,onChange:p=>c({...l,player1Name:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter player 1 name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Player 2 Name"}),u.jsx("input",{type:"text",required:!0,value:l.player2Name,onChange:p=>c({...l,player2Name:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter player 2 name"})]})]}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition",children:o?"Update Team":"Add Team"}),u.jsx("button",{type:"button",onClick:g,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-400 transition",children:"Cancel"})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(p=>{var w,x,y;return u.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-lg transition",children:[u.jsxs("div",{className:"flex justify-between items-start mb-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-gray-800",children:p.name}),u.jsx("span",{className:"text-sm text-gray-500",children:(w=d.find(m=>m.id===p.zone))==null?void 0:w.name})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>f(p),className:"text-blue-600 hover:text-blue-800 transition",children:u.jsx(Rx,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>{window.confirm(`Are you sure you want to delete team "${p.name}"?`)&&n(p.id)},className:"text-red-600 hover:text-red-800 transition",children:u.jsx(ou,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("p",{className:"text-sm text-gray-600",children:[" ",(x=p.players[0])==null?void 0:x.name]}),u.jsxs("p",{className:"text-sm text-gray-600",children:[" ",(y=p.players[1])==null?void 0:y.name]})]}),u.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:u.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[u.jsxs("span",{children:["Wins: ",p.stats.matchesWon]}),u.jsxs("span",{children:["Losses: ",p.stats.matchesLost]}),u.jsxs("span",{children:["Points: ",p.stats.points]})]})})]},p.id)})}),t.length===0&&!s&&u.jsxs("div",{className:"text-center py-12 text-gray-500",children:[u.jsx(is,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),u.jsx("p",{className:"text-lg",children:"No teams added yet"}),u.jsx("p",{className:"text-sm",children:'Click "Add Team" to create your first team'})]})]})},zx=()=>{const{teams:t,matches:e,addMatch:r,deleteMatch:n}=at(),[s,i]=b.useState(""),[o,a]=b.useState(""),l=[{id:"all",name:"All Zones"},{id:"zone-a",name:"Zone A"},{id:"zone-b",name:"Zone B"},{id:"zone-c",name:"Zone C"},{id:"zone-d",name:"Zone D"}],c=f=>{if(f.preventDefault(),!s||!o){alert("Please select both teams");return}if(s===o){alert("Please select different teams");return}const g=t.find(x=>x.id===s),p=t.find(x=>x.id===o);if(!g||!p){alert("Invalid team selection");return}const w={id:`match-${Date.now()}`,team1:g,team2:p,score:{team1:0,team2:0},status:"upcoming"};r(w),i(""),a(""),alert("Match scheduled successfully!")},d=f=>{const g={upcoming:"bg-gray-200 text-gray-700",live:"bg-green-200 text-green-800",completed:"bg-blue-200 text-blue-800"};return g[f]||g.upcoming},h=(f,g)=>{confirm(`Are you sure you want to delete this match?
${g}`)&&n(f)};return u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsx("div",{className:"flex justify-between items-center mb-6",children:u.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[u.jsx(Ga,{className:"w-6 h-6"}),"Match Scheduler"]})}),u.jsxs("form",{onSubmit:c,className:"mb-6 p-4 bg-blue-50 rounded-lg border-2 border-blue-200",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Schedule New Match"}),u.jsx(ss,{className:"w-5 h-5 text-blue-700"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team 1"}),u.jsxs("select",{value:s,onChange:f=>i(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[u.jsx("option",{value:"",children:"Select Team 1"}),t.map(f=>{var g;return u.jsxs("option",{value:f.id,children:[f.name," - ",(g=l.find(p=>p.id===f.zone))==null?void 0:g.name," (",f.players.map(p=>p.name).join(" & "),")"]},f.id)})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team 2"}),u.jsxs("select",{value:o,onChange:f=>a(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[u.jsx("option",{value:"",children:"Select Team 2"}),t.map(f=>{var g;return u.jsxs("option",{value:f.id,disabled:f.id===s,children:[f.name," - ",(g=l.find(p=>p.id===f.zone))==null?void 0:g.name," (",f.players.map(p=>p.name).join(" & "),")"]},f.id)})]})]})]}),u.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition font-semibold",children:"Schedule Match"})]}),u.jsx("div",{className:"space-y-3",children:e.length===0?u.jsxs("div",{className:"text-center py-12 text-gray-500",children:[u.jsx(Ga,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),u.jsx("p",{className:"text-lg",children:"No matches scheduled"}),u.jsx("p",{className:"text-sm",children:"Schedule matches using the form above"})]}):e.map(f=>u.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-semibold text-gray-800",children:f.team1.name}),u.jsx("div",{className:"text-xs text-gray-500",children:f.team1.players.map(g=>g.name).join(" & ")})]}),u.jsx("div",{className:"text-2xl font-bold mx-4 text-gray-600",children:"VS"}),u.jsxs("div",{className:"flex-1 text-right",children:[u.jsx("div",{className:"font-semibold text-gray-800",children:f.team2.name}),u.jsx("div",{className:"text-xs text-gray-500",children:f.team2.players.map(g=>g.name).join(" & ")})]})]}),u.jsxs("div",{className:"flex justify-between items-center mt-3",children:[u.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-medium ${d(f.status)}`,children:f.status.toUpperCase()}),f.status==="completed"&&u.jsxs("div",{className:"text-sm font-semibold text-gray-700",children:["Score: ",f.score.team1," - ",f.score.team2]}),f.status==="live"&&u.jsxs("div",{className:"text-sm font-semibold text-green-700",children:["Live: ",f.score.team1," - ",f.score.team2]}),f.courtId&&u.jsxs("div",{className:"text-xs text-gray-500",children:["Court: ",f.courtId.replace("court-","")]})]})]}),f.status==="upcoming"&&u.jsx("button",{onClick:()=>h(f.id,`${f.team1.name} vs ${f.team2.name}`),className:"ml-4 text-red-600 hover:text-red-800 hover:bg-red-50 p-2 rounded transition",title:"Delete match",children:u.jsx(ou,{className:"w-5 h-5"})})]})},f.id))}),u.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[u.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Match Summary"}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600",children:"Total Matches:"}),u.jsx("span",{className:"ml-2 font-semibold",children:e.length})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600",children:"Live:"}),u.jsx("span",{className:"ml-2 font-semibold text-green-700",children:e.filter(f=>f.status==="live").length})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600",children:"Completed:"}),u.jsx("span",{className:"ml-2 font-semibold text-blue-700",children:e.filter(f=>f.status==="completed").length})]})]})]})]})},Bx=()=>{const{courts:t,matches:e,referees:r,assignMatchToCourt:n,assignRefereeToCourt:s}=at(),i=e.filter(l=>l.status==="upcoming"),o=(l,c)=>{if(!c){n(c,l);return}const d=e.find(f=>f.id===c),h=t.find(f=>f.id===l);d&&h&&window.confirm(`Assign match "${d.team1.name} vs ${d.team2.name}" to ${h.name}?`)&&n(c,l)},a=(l,c)=>{if(!c){s(c,l);return}const d=r.find(f=>f.id===c),h=t.find(f=>f.id===l);d&&h&&window.confirm(`Assign referee "${d.name}" to ${h.name}?`)&&s(c,l)};return u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsx("div",{className:"flex justify-between items-center mb-6",children:u.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[u.jsx(iu,{className:"w-6 h-6"}),"Court & Referee Assignment"]})}),u.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[u.jsxs("h3",{className:"font-semibold text-gray-700 flex items-center gap-2 mb-3",children:[u.jsx(Lx,{className:"w-5 h-5"}),"Referees"]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.map(l=>u.jsxs("div",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[l.name,l.courtId&&u.jsxs("span",{className:"ml-2 text-blue-600",children:["(Court ",l.courtId.replace("court-",""),")"]})]},l.id)),r.length===0&&u.jsx("p",{className:"text-sm text-gray-500",children:"No referees added yet"})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.map(l=>u.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:l.name}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Referee: ",u.jsx("span",{className:"font-medium",children:l.refereeName})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Assign Referee"}),u.jsxs("select",{value:l.refereeId,onChange:c=>a(l.id,c.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Select Referee"}),r.map(c=>{const d=!!(c.courtId&&c.courtId!==l.id);return u.jsxs("option",{value:c.id,disabled:d,children:[c.name,d?" (Assigned to another court)":""]},c.id)})]})]}),l.match?u.jsxs("div",{className:`p-3 rounded-lg border ${l.match.status==="live"?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"}`,children:[u.jsx("div",{className:`text-xs font-semibold mb-2 ${l.match.status==="live"?"text-green-800":"text-blue-800"}`,children:l.match.status==="live"?" LIVE MATCH":" MATCH ASSIGNED"}),u.jsxs("div",{className:"text-sm font-medium text-gray-800",children:[l.match.team1.name," vs ",l.match.team2.name]}),u.jsxs("div",{className:"text-lg font-bold mt-1",style:{color:l.match.status==="live"?"#15803d":"#1e40af"},children:[l.match.score.team1," - ",l.match.score.team2]}),l.match.status==="upcoming"&&u.jsx("div",{className:"mt-2 text-xs text-blue-700",children:"Referee will start the match"})]}):u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Assign Match"}),u.jsxs("select",{onChange:c=>c.target.value&&o(l.id,c.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:"",children:[u.jsx("option",{value:"",children:"Select Match"}),i.map(c=>u.jsxs("option",{value:c.id,children:[c.team1.name," vs ",c.team2.name]},c.id))]}),i.length===0&&u.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"No upcoming matches available"})]})]},l.id))})]})},Fx=()=>{const{referees:t,courts:e,addReferee:r,deleteReferee:n}=at(),[s,i]=b.useState(!1),[o,a]=b.useState({}),[l,c]=b.useState({name:"",username:"",password:"",courtId:""}),d=p=>{if(p.preventDefault(),!l.name.trim()||!l.username.trim()||!l.password.trim()){alert("Please fill in all required fields");return}if(t.some(x=>x.username===l.username)){alert("Username already exists. Please choose a different username.");return}const w={id:`referee-${Date.now()}`,name:l.name,username:l.username,password:l.password,courtId:l.courtId||void 0};r(w),c({name:"",username:"",password:"",courtId:""}),i(!1)},h=p=>{confirm("Are you sure you want to delete this referee?")&&n(p)},f=p=>{a(w=>({...w,[p]:!w[p]}))},g=p=>{if(!p)return"Unassigned";const w=e.find(x=>x.id===p);return w?w.name:"Unassigned"};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[u.jsx(Yr,{className:"w-7 h-7 text-blue-600"}),"Referee Management"]}),u.jsx("p",{className:"text-gray-600 mt-1",children:"Create and manage referee accounts"})]}),u.jsxs("button",{onClick:()=>i(!s),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition flex items-center gap-2",children:[u.jsx(ss,{className:"w-5 h-5"}),"Add Referee"]})]}),s&&u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Create New Referee"}),u.jsxs("form",{onSubmit:d,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:l.name,onChange:p=>c({...l,name:p.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter referee name"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Username ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:l.username,onChange:p=>c({...l,username:p.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter username (for login)"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"password",value:l.password,onChange:p=>c({...l,password:p.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter password"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign to Court (Optional)"}),u.jsxs("select",{value:l.courtId,onChange:p=>c({...l,courtId:p.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"",children:"Unassigned"}),e.map(p=>u.jsx("option",{value:p.id,children:p.name},p.id))]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition",children:"Create Referee"}),u.jsx("button",{type:"button",onClick:()=>{i(!1),c({name:"",username:"",password:"",courtId:""})},className:"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition",children:"Cancel"})]})]})]}),u.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:t.length===0?u.jsxs("div",{className:"p-8 text-center text-gray-500",children:[u.jsx(Yr,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),u.jsx("p",{className:"text-lg",children:'No referees yet. Click "Add Referee" to create one.'})]}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Username"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Password"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned Court"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(p=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"font-medium text-gray-900",children:p.name})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-gray-600",children:p.username})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("code",{className:"text-sm text-gray-800 bg-gray-100 px-2 py-1 rounded",children:o[p.id]?p.password:""}),u.jsx("button",{onClick:()=>f(p.id),className:"text-gray-500 hover:text-gray-700",children:o[p.id]?u.jsx(Cx,{className:"w-4 h-4"}):u.jsx(Tx,{className:"w-4 h-4"})})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${p.courtId?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:g(p.courtId)})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("button",{onClick:()=>h(p.id),className:"text-red-600 hover:text-red-800 transition",children:u.jsx(ou,{className:"w-5 h-5"})})})]},p.id))})]})})})]})},Wx=()=>{var o;const{teams:t,matches:e,zones:r,refreshData:n}=at();b.useEffect(()=>{const a=setInterval(()=>{n()},2e3);return()=>clearInterval(a)},[n]);const s=b.useMemo(()=>{const a=r.map(l=>l.id);return Qe.calculateTournamentStats(t,e,a)},[t,e,r]),i=b.useMemo(()=>Qe.calculateTeamStats(t,e),[t,e]);return u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[u.jsx(id,{className:"w-6 h-6"}),"Tournament Statistics"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[u.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx($x,{className:"w-8 h-8 text-blue-600"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Matches"}),u.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s.totalMatches})]})]})}),u.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Do,{className:"w-8 h-8 text-green-600"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Completed"}),u.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s.completedMatches})]})]})}),u.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(is,{className:"w-8 h-8 text-purple-600"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Teams"}),u.jsx("p",{className:"text-2xl font-bold text-gray-800",children:t.length})]})]})}),u.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(id,{className:"w-8 h-8 text-yellow-600"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Zones"}),u.jsx("p",{className:"text-2xl font-bold text-gray-800",children:r.length})]})]})})]}),s.overallBestTeam&&u.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-yellow-100 to-orange-100 rounded-lg border-2 border-yellow-300",children:[u.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[u.jsx(Do,{className:"w-6 h-6 text-yellow-600"})," Overall Tournament Leader"]}),u.jsx("div",{className:"bg-white rounded-lg p-4",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-2xl font-bold text-gray-800",children:s.overallBestTeam.name}),u.jsx("p",{className:"text-gray-600",children:s.overallBestTeam.players.map(a=>a.name).join(" & ")}),u.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Zone: ",(o=r.find(a=>a.id===s.overallBestTeam.zone))==null?void 0:o.name]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-3xl font-bold text-yellow-600",children:[s.overallBestTeam.stats.points," pts"]}),u.jsxs("div",{className:"text-sm text-gray-600",children:[s.overallBestTeam.stats.matchesWon,"W - ",s.overallBestTeam.stats.matchesLost,"L"]})]})]})})]}),s.overallBestPlayer&&u.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-100 to-indigo-100 rounded-lg border-2 border-blue-300",children:[u.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[u.jsx(Do,{className:"w-6 h-6 text-blue-600"})," Best Player"]}),u.jsx("div",{className:"bg-white rounded-lg p-4",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-2xl font-bold text-gray-800",children:s.overallBestPlayer.player.name}),u.jsx("p",{className:"text-gray-600",children:"Most Wins"})]}),u.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[s.overallBestPlayer.wins," wins"]})]})})]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Best Teams by Zone"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(a=>{const l=s.bestTeamByZone[a.id];return l?u.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4 hover:shadow-lg transition",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),u.jsx("h4",{className:"font-bold text-gray-700",children:a.name})]}),u.jsx("div",{className:"bg-gray-50 rounded p-3",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-gray-800",children:l.name}),u.jsx("p",{className:"text-xs text-gray-600",children:l.players.map(c=>c.name).join(" & ")})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[l.stats.points," pts"]}),u.jsxs("p",{className:"text-xs text-gray-600",children:[l.stats.matchesWon,"W - ",l.stats.matchesLost,"L"]})]})]})})]},a.id):null})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Team Leaderboard"}),u.jsxs("div",{className:"overflow-x-auto",children:[u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-100",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Rank"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Team"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Zone"}),u.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-700",children:"Played"}),u.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-700",children:"Won"}),u.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-700",children:"Lost"}),u.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-700",children:"Points"}),u.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-700",children:"Avg Score"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200",children:i.sort((a,l)=>l.stats.points!==a.stats.points?l.stats.points-a.stats.points:l.stats.matchesWon-a.stats.matchesWon).map((a,l)=>{var d;const c=Qe.calculateAveragePoints(a,e);return u.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[u.jsx("td",{className:"px-4 py-3",children:u.jsxs("span",{className:`font-bold ${l<3?"text-yellow-600":"text-gray-600"}`,children:[l===0&&"",l===1&&"",l===2&&"",l>2&&`#${l+1}`]})}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-gray-800",children:a.name}),u.jsx("p",{className:"text-xs text-gray-500",children:a.players.map(h=>h.name).join(" & ")})]})}),u.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:(d=r.find(h=>h.id===a.zone))==null?void 0:d.name}),u.jsx("td",{className:"px-4 py-3 text-center text-sm",children:a.stats.matchesWon+a.stats.matchesLost}),u.jsx("td",{className:"px-4 py-3 text-center text-sm font-semibold text-green-600",children:a.stats.matchesWon}),u.jsx("td",{className:"px-4 py-3 text-center text-sm font-semibold text-red-600",children:a.stats.matchesLost}),u.jsx("td",{className:"px-4 py-3 text-center text-lg font-bold text-blue-600",children:a.stats.points}),u.jsx("td",{className:"px-4 py-3 text-center text-sm text-gray-600",children:c.toFixed(1)})]},a.id)})})]}),i.length===0&&u.jsxs("div",{className:"text-center py-12 text-gray-500",children:[u.jsx(is,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),u.jsx("p",{children:"No teams data available"})]})]})]})]})},Vx=()=>{const[t,e]=b.useState("teams"),{resetTournament:r}=at(),n=sn(),s=[{id:"teams",label:"Team Management",icon:is},{id:"matches",label:"Match Scheduler",icon:Ga},{id:"referees",label:"Referee Management",icon:Yr},{id:"courts",label:"Court Assignment",icon:iu},{id:"stats",label:"Statistics",icon:Ex}],i=()=>{confirm("Are you sure you want to reset the entire tournament? This will delete all data!")&&(r(),alert("Tournament has been reset successfully!"))},o=()=>{sessionStorage.removeItem("isAuthenticated"),n("/login")};return u.jsxs("div",{className:"min-h-screen bg-gray-100",children:[u.jsx("div",{className:"bg-white shadow-md",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-bold text-gray-800 flex items-center gap-2",children:[u.jsx(Bp,{className:"w-8 h-8 text-blue-600"}),"Admin Dashboard"]}),u.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your badminton tournament"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:i,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition flex items-center gap-2",children:[u.jsx(Wp,{className:"w-5 h-5"}),"Reset Tournament"]}),u.jsxs("button",{onClick:o,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition flex items-center gap-2",children:[u.jsx(Fp,{className:"w-5 h-5"}),"Logout"]})]})]})})}),u.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4",children:u.jsx("div",{className:"flex space-x-1 overflow-x-auto",children:s.map(a=>{const l=a.icon;return u.jsxs("button",{onClick:()=>e(a.id),className:`flex items-center gap-2 px-6 py-4 font-medium border-b-2 transition whitespace-nowrap ${t===a.id?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[u.jsx(l,{className:"w-5 h-5"}),a.label]},a.id)})})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[t==="teams"&&u.jsx(Mx,{}),t==="matches"&&u.jsx(zx,{}),t==="courts"&&u.jsx(Bx,{}),t==="referees"&&u.jsx(Fx,{}),t==="stats"&&u.jsx(Wx,{})]})]})},qx=()=>{const{courts:t,updateMatchScore:e,finishMatch:r,undoLastScore:n,refreshData:s,scoreHistory:i}=at(),[o,a]=b.useState(""),l=t.find(p=>p.id===o),c=l==null?void 0:l.match,d=c?i.filter(p=>p.matchId===c.id).length>0:!1;b.useEffect(()=>{t.length>0&&!o&&a(t[0].id)},[t,o]),b.useEffect(()=>{const p=setInterval(()=>{s()},1e3),w=()=>{s()};return window.addEventListener("storage",w),window.addEventListener("storage-update",w),()=>{clearInterval(p),window.removeEventListener("storage",w),window.removeEventListener("storage-update",w)}},[s]);const h=p=>{if(!c)return;const w=c.score[p];e(c.id,p,w+1)},f=()=>{if(c){if(!d){alert("No actions to undo!");return}window.confirm("Undo the last score update?")&&n(c.id)}},g=()=>{c&&confirm("Are you sure you want to finish this match?")&&r(c.id)};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 mb-4",children:[u.jsxs("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-4 flex items-center justify-center gap-2",children:[u.jsx(Bt,{className:"w-8 h-8 text-yellow-500"}),"Referee Control Panel"]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Court"}),u.jsx("select",{value:o,onChange:p=>a(p.target.value),className:"w-full px-4 py-3 text-lg border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:t.map(p=>u.jsxs("option",{value:p.id,children:[p.name," - ",p.refereeName,p.match?" (Live Match)":" (No Match)"]},p.id))})]})]}),c?u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8",children:[u.jsx("div",{className:"text-center mb-6",children:u.jsx("span",{className:"bg-green-500 text-white px-4 py-2 rounded-full text-sm font-semibold animate-pulse",children:" LIVE MATCH"})}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 items-center mb-8",children:[u.jsx("div",{className:"text-center",children:u.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-2",children:c.team1.name}),u.jsx("div",{className:"text-sm text-gray-600 mb-4",children:c.team1.players.map(p=>p.name).join(" & ")}),u.jsx("div",{className:"text-6xl font-bold text-blue-600 mb-4",children:c.score.team1}),u.jsxs("button",{onClick:()=>h("team1"),className:"w-full bg-blue-600 text-white py-4 rounded-lg hover:bg-blue-700 transition transform hover:scale-105 flex items-center justify-center gap-2 text-lg font-semibold",children:[u.jsx(ss,{className:"w-6 h-6"}),"Add Point"]})]})}),u.jsx("div",{className:"text-center",children:u.jsx("div",{className:"text-4xl font-bold text-gray-400",children:"VS"})}),u.jsx("div",{className:"text-center",children:u.jsxs("div",{className:"bg-red-50 rounded-lg p-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-red-900 mb-2",children:c.team2.name}),u.jsx("div",{className:"text-sm text-gray-600 mb-4",children:c.team2.players.map(p=>p.name).join(" & ")}),u.jsx("div",{className:"text-6xl font-bold text-red-600 mb-4",children:c.score.team2}),u.jsxs("button",{onClick:()=>h("team2"),className:"w-full bg-red-600 text-white py-4 rounded-lg hover:bg-red-700 transition transform hover:scale-105 flex items-center justify-center gap-2 text-lg font-semibold",children:[u.jsx(ss,{className:"w-6 h-6"}),"Add Point"]})]})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("button",{onClick:f,disabled:!d,className:`py-3 rounded-lg transition flex items-center justify-center gap-2 text-lg font-semibold ${d?"bg-yellow-500 text-white hover:bg-yellow-600 transform hover:scale-105":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:d?"Undo last point":"No actions to undo",children:[u.jsx(Wp,{className:"w-5 h-5"}),"Undo Last Point"]}),u.jsxs("button",{onClick:g,className:"bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition flex items-center justify-center gap-2 text-lg font-semibold",children:[u.jsx(Nx,{className:"w-5 h-5"}),"Finish Match"]})]})]}):u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-12 text-center",children:[u.jsx(Bt,{className:"w-24 h-24 mx-auto text-gray-300 mb-4"}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-600 mb-2",children:"No Active Match"}),u.jsx("p",{className:"text-gray-500",children:"Waiting for a match to be assigned to this court"})]})]})})},Hx=()=>u.jsx(qx,{}),Kx=()=>{const[t,e]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(""),[o,a]=b.useState(!1),l=sn(),c=async d=>{d.preventDefault(),i(""),a(!0);try{const h=await vx(t,r);h?(sessionStorage.setItem("refereeAuthenticated","true"),sessionStorage.setItem("refereeId",h.id),sessionStorage.setItem("refereeName",h.name),sessionStorage.setItem("refereeCourtId",h.courtId||""),l("/referee/panel")):i("Invalid username or password")}catch(h){console.error("Login error:",h),i("An error occurred. Please try again.")}finally{a(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-green-500 to-blue-600 rounded-full mb-4",children:u.jsx(Yr,{className:"w-8 h-8 text-white"})}),u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Referee Login"}),u.jsx("p",{className:"text-gray-600",children:"Sign in to manage your matches"})]}),u.jsxs("form",{onSubmit:c,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),u.jsx("input",{id:"username",type:"text",value:t,onChange:d=>e(d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition",placeholder:"Enter your username",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),u.jsx("input",{id:"password",type:"password",value:r,onChange:d=>n(d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition",placeholder:"Enter your password",required:!0})]}),s&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:s}),u.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-green-500 to-blue-600 text-white py-3 px-4 rounded-lg hover:from-green-600 hover:to-blue-700 transition font-semibold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Signing in...":"Sign In"})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-sm text-gray-600",children:["Admin login?"," ",u.jsx("button",{onClick:()=>l("/login"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Click here"})]})})]})})},Jx=()=>{const t=sn(),{courts:e,matches:r,updateMatchScore:n,startMatch:s,finishMatch:i,undoLastScore:o}=at(),[a,l]=b.useState(""),[c,d]=b.useState(""),[h,f]=b.useState(null),[g,p]=b.useState(null);b.useEffect(()=>{const _=sessionStorage.getItem("refereeAuthenticated"),S=sessionStorage.getItem("refereeName"),k=sessionStorage.getItem("refereeCourtId");if(!_||_!=="true"){t("/referee/login");return}S&&l(S),k&&d(k)},[t]),b.useEffect(()=>{if(c){const _=e.find(S=>S.id===c);if(p(_||null),_!=null&&_.match){const S=r.find(k=>{var E;return k.id===((E=_.match)==null?void 0:E.id)});f(S||null)}else f(null)}},[c,e,r]);const w=()=>{sessionStorage.removeItem("refereeAuthenticated"),sessionStorage.removeItem("refereeId"),sessionStorage.removeItem("refereeName"),sessionStorage.removeItem("refereeCourtId"),t("/referee/login")},x=async _=>{h&&h.status==="live"&&await n(h.id,_,1)},y=async()=>{h&&h.status==="live"&&window.confirm("Undo the last score update?")&&await o(h.id)},m=async()=>{h&&h.status==="upcoming"&&confirm("Start this match? You will be able to update scores after starting.")&&await s(h.id)},v=async()=>{h&&h.status==="live"&&confirm("Finish this match? This will mark the match as completed.")&&await i(h.id)};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50",children:[u.jsx("div",{className:"bg-white shadow-md",children:u.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[u.jsx(Yr,{className:"w-7 h-7 text-green-600"}),"Referee Panel"]}),u.jsxs("p",{className:"text-gray-600 mt-1",children:["Welcome, ",a]})]}),u.jsxs("button",{onClick:w,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition flex items-center gap-2",children:[u.jsx(Fp,{className:"w-5 h-5"}),"Logout"]})]})})}),u.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[u.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[u.jsx(iu,{className:"w-6 h-6 text-blue-600"}),"Your Assignment"]}),g?u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"bg-blue-100 text-blue-800 px-4 py-2 rounded-lg font-semibold text-lg",children:g.name}),u.jsx("div",{className:"text-gray-600",children:h?"Match in progress":"No active match"})]}):u.jsx("div",{className:"text-gray-500",children:"You are not assigned to any court yet. Please contact the admin."})]}),h?u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[u.jsx(Bt,{className:"w-7 h-7 text-yellow-600"}),"Current Match"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(zp,{className:"w-5 h-5 text-gray-500"}),u.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${h.status==="live"?"bg-green-100 text-green-800":h.status==="upcoming"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:h.status.toUpperCase()})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:h.team1.name}),u.jsx("div",{className:"text-5xl font-bold text-blue-600 mb-4",children:h.score.team1}),u.jsx("div",{className:"space-y-2",children:h.team1.players.map(_=>u.jsxs("div",{className:"text-sm text-gray-600",children:[" ",_.name]},_.id))}),h.status==="live"&&u.jsx("button",{onClick:()=>x("team1"),className:"mt-4 w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition font-semibold",children:"+1 Point"})]}),u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:h.team2.name}),u.jsx("div",{className:"text-5xl font-bold text-purple-600 mb-4",children:h.score.team2}),u.jsx("div",{className:"space-y-2",children:h.team2.players.map(_=>u.jsxs("div",{className:"text-sm text-gray-600",children:[" ",_.name]},_.id))}),h.status==="live"&&u.jsx("button",{onClick:()=>x("team2"),className:"mt-4 w-full bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700 transition font-semibold",children:"+1 Point"})]})]}),h.status==="live"&&u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:y,className:"flex-1 bg-yellow-500 text-white py-3 rounded-lg hover:bg-yellow-600 transition font-semibold",children:"Undo Last Point"}),u.jsx("button",{onClick:v,className:"flex-1 bg-red-600 text-white py-3 rounded-lg hover:bg-red-700 transition font-semibold",children:"Finish Match"})]}),h.status==="upcoming"&&u.jsxs("div",{className:"bg-blue-50 border-2 border-blue-400 rounded-lg p-6 text-center",children:[u.jsx("div",{className:"text-4xl mb-3",children:""}),u.jsx("p",{className:"text-blue-900 font-semibold text-lg mb-2",children:"Match Ready to Start"}),u.jsx("p",{className:"text-blue-800 mb-4",children:"Click the button below to begin this match. You'll be able to update scores after starting."}),u.jsx("button",{onClick:m,className:"bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition font-semibold text-lg",children:" Start Match"})]}),h.status==="completed"&&h.winner&&u.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:u.jsxs("p",{className:"text-green-800 font-semibold text-lg",children:[" Winner: ",h.winner.name]})})]}):g&&u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[u.jsx(Bt,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),u.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Active Match"}),u.jsx("p",{className:"text-gray-500",children:"You don't have any match assigned to your court at the moment."})]})]})]})},Gx=()=>{const{courts:t,matches:e,refreshData:r}=at(),[n,s]=b.useState("all"),i=[{id:"all",name:"All Zones"},{id:"zone-a",name:"Zone A"},{id:"zone-b",name:"Zone B"},{id:"zone-c",name:"Zone C"},{id:"zone-d",name:"Zone D"}];b.useEffect(()=>{const d=setInterval(()=>{r()},1e3),h=()=>{r()};return window.addEventListener("storage",h),window.addEventListener("storage-update",h),()=>{clearInterval(d),window.removeEventListener("storage",h),window.removeEventListener("storage-update",h)}},[r]);const o=n==="all"?t:t.filter(d=>d.match&&(d.match.team1.zone===n||d.match.team2.zone===n)),a=async()=>{const d=window.location.href;if(navigator.share)try{await navigator.share({title:"Badminton Tournament Live Scores",text:"Check out the live scores from the tournament!",url:d})}catch(h){console.log("Error sharing:",h)}else navigator.clipboard.writeText(d),alert("Link copied to clipboard!")},l=d=>d.status==="completed"?"Completed":d.status==="live"?" Live":"Upcoming",c=d=>d==="completed"?"bg-blue-100 text-blue-800":d==="live"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800";return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-100 p-4",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[u.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-bold text-gray-800 flex items-center gap-2",children:[u.jsx(Bt,{className:"w-8 h-8 text-yellow-500"})," Live Tournament Scoreboard"]}),u.jsx("p",{className:"text-gray-600 mt-1",children:"Real-time updates from all courts"})]}),u.jsxs("button",{onClick:a,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition flex items-center gap-2",children:[u.jsx(Ax,{className:"w-5 h-5"}),"Share Scores"]})]}),u.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[u.jsx(Px,{className:"w-5 h-5 text-gray-600"}),u.jsx("select",{value:n,onChange:d=>s(d.target.value),className:"px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:i.map(d=>u.jsx("option",{value:d.id,children:d.name},d.id))})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(d=>{var h,f;return u.jsxs("div",{className:`bg-white rounded-xl shadow-lg p-6 ${((h=d.match)==null?void 0:h.status)==="live"?"ring-4 ring-green-400":""}`,children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800",children:d.name}),d.match&&u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${c(d.match.status)}`,children:l(d.match)})]}),d.match?u.jsxs("div",{children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"text-sm text-gray-500 mb-1",children:(f=i.find(g=>g.id===d.match.team1.zone))==null?void 0:f.name}),u.jsx("div",{className:"bg-blue-50 rounded-lg p-4 mb-3",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-blue-900",children:d.match.team1.name}),u.jsx("p",{className:"text-xs text-gray-600",children:d.match.team1.players.map(g=>g.name).join(" & ")})]}),u.jsx("div",{className:"text-3xl font-bold text-blue-600",children:d.match.score.team1})]})}),u.jsx("div",{className:"text-center text-gray-400 font-bold mb-3",children:"VS"}),u.jsx("div",{className:"bg-red-50 rounded-lg p-4",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-red-900",children:d.match.team2.name}),u.jsx("p",{className:"text-xs text-gray-600",children:d.match.team2.players.map(g=>g.name).join(" & ")})]}),u.jsx("div",{className:"text-3xl font-bold text-red-600",children:d.match.score.team2})]})})]}),d.match.winner&&u.jsx("div",{className:"mt-4 p-3 bg-yellow-100 rounded-lg text-center",children:u.jsxs("span",{className:"text-sm font-semibold text-yellow-800",children:[" Winner: ",d.match.winner.name]})})]}):u.jsxs("div",{className:"text-center py-8 text-gray-400",children:[u.jsx(Bt,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),u.jsx("p",{className:"text-sm",children:"No match assigned"})]}),u.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:u.jsxs("p",{className:"text-xs text-gray-500",children:["Referee: ",u.jsx("span",{className:"font-medium",children:d.refereeName})]})})]},d.id)})}),u.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-lg p-6",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Tournament Summary"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-gray-800",children:e.length}),u.jsx("div",{className:"text-sm text-gray-600",children:"Total Matches"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-green-600",children:e.filter(d=>d.status==="live").length}),u.jsx("div",{className:"text-sm text-gray-600",children:"Live Now"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-blue-600",children:e.filter(d=>d.status==="completed").length}),u.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-gray-600",children:e.filter(d=>d.status==="upcoming").length}),u.jsx("div",{className:"text-sm text-gray-600",children:"Upcoming"})]})]})]})]})})},Qx=()=>u.jsx(Gx,{});function Zx(){const[t,e]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(""),o=sn(),a=l=>{l.preventDefault(),i(""),t==="admin"&&r==="admin123"?(sessionStorage.setItem("isAuthenticated","true"),o("/dashboard")):(i("Invalid username or password"),n(""))};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 p-4 rounded-full",children:u.jsx(Bt,{className:"w-12 h-12 text-white"})})}),u.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-2",children:"Admin Login"}),u.jsx("p",{className:"text-center text-gray-600 mb-8",children:"Badminton Tournament System"}),s&&u.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg text-sm",children:s}),u.jsxs("form",{onSubmit:a,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Ux,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"text",value:t,onChange:l=>e(l.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter username",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Ox,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"password",value:r,onChange:l=>n(l.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter password",required:!0})]})]}),u.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-blue-600 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Login"})]}),u.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:u.jsx("p",{children:"Access restricted to authorized personnel only"})})]})})}function Yx({children:t}){return sessionStorage.getItem("isAuthenticated")==="true"?u.jsx(u.Fragment,{children:t}):u.jsx(Gl,{to:"/login",replace:!0})}const Xx=({children:t})=>sessionStorage.getItem("refereeAuthenticated")==="true"?u.jsx(u.Fragment,{children:t}):u.jsx(Gl,{to:"/referee/login",replace:!0});function e_(){return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-500 relative overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[u.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-white/10 rounded-full blur-3xl animate-pulse"}),u.jsx("div",{className:"absolute top-1/2 -left-40 w-96 h-96 bg-blue-400/10 rounded-full blur-3xl animate-pulse delay-1000"}),u.jsx("div",{className:"absolute -bottom-40 right-1/3 w-80 h-80 bg-purple-400/10 rounded-full blur-3xl animate-pulse delay-500"})]}),u.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4 py-12",children:u.jsxs("div",{className:"max-w-7xl w-full",children:[u.jsxs("div",{className:"text-center mb-16 animate-fade-in",children:[u.jsx("div",{className:"inline-block mb-6",children:u.jsx("div",{className:"bg-white/20 backdrop-blur-lg rounded-full px-6 py-2 text-white font-semibold text-sm mb-6 border border-white/30",children:" Professional Tournament Management"})}),u.jsxs("h1",{className:"text-6xl md:text-7xl font-black text-white mb-6 leading-tight",children:["Badminton Tournament",u.jsx("span",{className:"block bg-gradient-to-r from-yellow-300 to-orange-400 bg-clip-text text-transparent",children:"Scoring System"})]}),u.jsx("p",{className:"text-xl md:text-2xl text-white/90 max-w-3xl mx-auto font-light",children:"Real-time match management, live scoring, and comprehensive analytics for professional badminton tournaments"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[u.jsx(No,{to:"/dashboard",className:"group bg-white/95 backdrop-blur-xl rounded-2xl shadow-2xl p-8 hover:shadow-3xl transition-all duration-300 transform hover:-translate-y-2 border border-white/20",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"relative mb-6",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full blur-xl opacity-50 group-hover:opacity-75 transition-opacity"}),u.jsx("div",{className:"relative bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl w-24 h-24 flex items-center justify-center mx-auto shadow-lg",children:u.jsx(Bp,{className:"w-12 h-12 text-white"})})]}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3 group-hover:text-blue-600 transition-colors",children:"Admin Dashboard"}),u.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Complete control center for teams, matches, courts, and tournament analytics"}),u.jsxs("div",{className:"mt-6 flex items-center justify-center text-blue-600 font-semibold group-hover:gap-3 gap-2 transition-all",children:[u.jsx("span",{children:"Manage Tournament"}),u.jsx("svg",{className:"w-5 h-5 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})}),u.jsx(No,{to:"/referee/login",className:"group bg-white/95 backdrop-blur-xl rounded-2xl shadow-2xl p-8 hover:shadow-3xl transition-all duration-300 transform hover:-translate-y-2 border border-white/20",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"relative mb-6",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-600 to-emerald-600 rounded-full blur-xl opacity-50 group-hover:opacity-75 transition-opacity"}),u.jsx("div",{className:"relative bg-gradient-to-r from-green-600 to-emerald-600 rounded-2xl w-24 h-24 flex items-center justify-center mx-auto shadow-lg",children:u.jsx(Yr,{className:"w-12 h-12 text-white"})})]}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3 group-hover:text-green-600 transition-colors",children:"Referee Panel"}),u.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Secure login for referees to manage and update match scores in real-time"}),u.jsxs("div",{className:"mt-6 flex items-center justify-center text-green-600 font-semibold group-hover:gap-3 gap-2 transition-all",children:[u.jsx("span",{children:"Start Scoring"}),u.jsx("svg",{className:"w-5 h-5 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})}),u.jsx(No,{to:"/live",className:"group bg-white/95 backdrop-blur-xl rounded-2xl shadow-2xl p-8 hover:shadow-3xl transition-all duration-300 transform hover:-translate-y-2 border border-white/20",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"relative mb-6",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full blur-xl opacity-50 group-hover:opacity-75 transition-opacity"}),u.jsx("div",{className:"relative bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl w-24 h-24 flex items-center justify-center mx-auto shadow-lg",children:u.jsx(Bt,{className:"w-12 h-12 text-white"})})]}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3 group-hover:text-purple-600 transition-colors",children:"Live Scoreboard"}),u.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Watch live match updates from all courts with real-time score tracking"}),u.jsxs("div",{className:"mt-6 flex items-center justify-center text-purple-600 font-semibold group-hover:gap-3 gap-2 transition-all",children:[u.jsx("span",{children:"View Scores"}),u.jsx("svg",{className:"w-5 h-5 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})})]}),u.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 md:p-12 border border-white/20 shadow-2xl",children:[u.jsx("h3",{className:"text-3xl font-bold text-white mb-8 text-center",children:"Powerful Features for Modern Tournaments"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"text-center group",children:[u.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4 mb-4 inline-block group-hover:bg-white/30 transition-colors",children:u.jsx(Dx,{className:"w-8 h-8 text-yellow-300"})}),u.jsx("h4",{className:"text-white font-semibold text-lg mb-2",children:"Real-time Updates"}),u.jsx("p",{className:"text-white/80 text-sm",children:"Instant score synchronization across all devices"})]}),u.jsxs("div",{className:"text-center group",children:[u.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4 mb-4 inline-block group-hover:bg-white/30 transition-colors",children:u.jsx(Ix,{className:"w-8 h-8 text-green-300"})}),u.jsx("h4",{className:"text-white font-semibold text-lg mb-2",children:"Secure Access"}),u.jsx("p",{className:"text-white/80 text-sm",children:"Role-based authentication for admins and referees"})]}),u.jsxs("div",{className:"text-center group",children:[u.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4 mb-4 inline-block group-hover:bg-white/30 transition-colors",children:u.jsx(kx,{className:"w-8 h-8 text-blue-300"})}),u.jsx("h4",{className:"text-white font-semibold text-lg mb-2",children:"Advanced Analytics"}),u.jsx("p",{className:"text-white/80 text-sm",children:"Comprehensive statistics and performance insights"})]}),u.jsxs("div",{className:"text-center group",children:[u.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4 mb-4 inline-block group-hover:bg-white/30 transition-colors",children:u.jsx(zp,{className:"w-8 h-8 text-purple-300"})}),u.jsx("h4",{className:"text-white font-semibold text-lg mb-2",children:"Multi-Court Support"}),u.jsx("p",{className:"text-white/80 text-sm",children:"Manage multiple courts and zones simultaneously"})]})]}),u.jsx("div",{className:"mt-10 pt-8 border-t border-white/20",children:u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"4"}),u.jsx("div",{className:"text-white/80 text-sm",children:"Tournament Zones"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"3"}),u.jsx("div",{className:"text-white/80 text-sm",children:"Simultaneous Courts"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:""}),u.jsx("div",{className:"text-white/80 text-sm",children:"Teams Supported"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"24/7"}),u.jsx("div",{className:"text-white/80 text-sm",children:"Live Tracking"})]})]})})]}),u.jsx("div",{className:"mt-12 text-center",children:u.jsx("p",{className:"text-white/70 text-sm",children:"Built with React, TypeScript, and Supabase  Real-time Data Synchronization"})})]})})]})}function t_(){const t=at(e=>e.initializeData);return b.useEffect(()=>{t()},[t]),u.jsx(gy,{children:u.jsxs(uy,{children:[u.jsx(lt,{path:"/",element:u.jsx(e_,{})}),u.jsx(lt,{path:"/login",element:u.jsx(Zx,{})}),u.jsx(lt,{path:"/dashboard",element:u.jsx(Yx,{children:u.jsx(Vx,{})})}),u.jsx(lt,{path:"/referee",element:u.jsx(Hx,{})}),u.jsx(lt,{path:"/referee/login",element:u.jsx(Kx,{})}),u.jsx(lt,{path:"/referee/panel",element:u.jsx(Xx,{children:u.jsx(Jx,{})})}),u.jsx(lt,{path:"/live",element:u.jsx(Qx,{})}),u.jsx(lt,{path:"*",element:u.jsx(Gl,{to:"/",replace:!0})})]})})}Mo.createRoot(document.getElementById("root")).render(u.jsx(el.StrictMode,{children:u.jsx(t_,{})}));
